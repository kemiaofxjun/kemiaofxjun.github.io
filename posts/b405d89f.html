<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><!-- hexo injector head_begin start --><script>(() => {
                    const sw = navigator.serviceWorker;
                    if (sw) {
                        sw.register('/sw.js')
                            .then(async (registration) => {
                            console.log('SWPP 注册成功');
                            try {
                                // @ts-ignore
                                await registration.periodicSync.register("update", {
                                    minInterval: 24 * 60 * 60 * 1000
                                });
                            }
                            catch (e) {
                                console.log('Periodic Sync 注册失败', e);
                            }
                        })
                            .catch(err => console.error('SWPP 注册失败', err));
                    }
                    else {
                        console.warn('当前浏览器不支持 SW');
                    }
                })()</script><!-- hexo injector head_begin end --><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>hexo备忘 | 喵洛阁</title><noscript>开启JavaScript才能访问本站哦~</noscript><link rel="icon" href="https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp"><link rel="stylesheet" href="/css/index.css?v=1.4.2"><meta name="google-site-verification" content="G-6EQ9TCJW1T"><meta name="baidu-site-verification" content="f77798d7dbd2a4f6f05cd760539e522b"><link rel="canonical" href="https://myboke.kemiaosw.top/posts/b405d89f.html"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"><!-- Feature-specific CSS--><!-- aplayer--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><!-- swiper--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11.0.5/swiper-bundle.min.css"><!-- fancybox ui--><!-- katex--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css"><!-- Open Graph--><meta name="description" content="Hexo 备忘 我的配置 Hexo 版本: hexo-cli: 4.3.2, hexo: 7.3.0(当前最新) Node.js 版本: 22.16.0 Git 版本: 2.47.0.sindows.2 PNPM 版本: 10.12.4 Windows 版本: 11 安装 Node.js 在"><!-- pwa--><meta name="theme-color" content="#006a73"><meta name="apple-mobile-web-app-status-bar-style" content="#006a73"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#006a73"><link rel="mask-icon" href="/img/pwa/favicon.png" color="#006a73"><link rel="apple-touch-icon" sizes="180x180" href="/img/pwa/favicon.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/pwa/favicon_16.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/pwa/favicon_32.png"><link rel="bookmark" href="/img/pwa/favicon.png"><script>console.log(' %c AstraBay %c ' + '1.4.2' + ' %c https://github.com/Stars-harbor/astrabay',
    'background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff',
    'background:#ff9a9a ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff',
    'background:unset ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff')
</script><script>let mdate = "7-7,9-18,12-13";
mdate = (mdate.split(","));
let ndate = new Date();
for (let i of mdate) {
    if (i === (ndate.getMonth()+1) + "-" + (ndate.getDate())) {
        document.documentElement.classList.add('memorial');
    }
}
</script><meta name="google-site-verification" content="7Nebq9WeE49fvW5yWORhuSHIEMx9Pc2Z1HRzA683ZBs"><meta name="robots" content="noindex, follow"><link rel="stylesheet" href="/schedule/schedule.css"><link rel="stylesheet" href="/css/custom.css"><link rel="stylesheet" href="/qexo-links/friends.css"><link rel="stylesheet" href="/qexo-talk/talk.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sakana-widget@2.7.0/lib/sakana.min.css"><link rel="stylesheet" href="/css/today.css"><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }

              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })

              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}

                if (name && keyObj[name]) return

                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
            addEventListenerPjax: (ele, event, fn, option = false) => {
              ele.addEventListener(event, fn, option)
              utils.addGlobalFn('pjax', () => {
                  ele.removeEventListener(event, fn, option)
              })
            },
            diffDateFormat: (selector) => {
                selector.forEach(item => {
                    const date = new Date(item.getAttribute('datetime') || item.textContent);
                    item.textContent = (date.getMonth() + 1).toString()+'/'+date.getDate().toString();
                });
            },
        }
    })()</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    typeof rm === 'object' && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: {"appId":"80FXZQQH8N","apiKey":"3d6ce936be0c72bc2393d2416d9dd990","indexName":"hexo-solitude","hits":{"per_page":6}},
    localsearch: undefined,
    runtime: '2025-08-15 16:00:00',
    lazyload: {
        enable: true,
        error: '/img/error_load.avif'
    },
    copyright: {"limit":50,"author":"作者: 克喵爱吃卤面","link":"链接: ","source":"来源: 喵洛阁","info":"著作权归作者所有。 商业转载请联系作者获得授权，非商业转载请注明出处。"},
    highlight: {"limit":200,"expand":true,"copy":true,"syntax":"highlight.js"},
    randomlink: true,
    lang: {"theme":{"dark":"已切换至深色模式","light":"已切换至浅色模式"},"copy":{"success":"复制成功","error":"复制失败"},"backtop":"返回顶部","time":{"day":"天前","hour":"小时前","just":"刚刚","min":"分钟前","month":"个月前"},"day":" 天","f12":"开发者模式已打开，请遵循GPL协议。","totalk":"无需删除空行，直接输入评论即可","search":{"empty":"找不到你查询的内容：${query}","hit":"找到 ${hits} 条结果，用时 ${time} 毫秒","placeholder":"输入关键词快速查找","count":"共 <b>${count}</b> 条结果。","loading":"搜索中..."},"barrage":{"title":"热评"}},
    aside: {
        state: {
            morning: "✨ 早上好，新的一天开始了",
            noon: "🍲 午餐时间",
            afternoon: "🌞 下午好",
            night: "早点休息",
            goodnight: "晚安 😴",
        },
        witty_words: ["你可以的","你一定可以的","祝你好运，陌生人"],
        witty_comment: {
            prefix: '好久不见，',
            back: '欢迎再次回来，',
        },
    },
    covercolor: {
        enable: true
    },
    comment: {"avatar":"https://gravatar.com/avatar","commentBarrage":true},
    lightbox: 'mediumZoom',
    right_menu: {"mode":{"dark":"深色模式","light":"浅色模式"},"img_error":"此图片无法复制与下载","music":{"start":"播放音乐","stop":"暂停音乐"},"barrage":{"open":"显示热评","close":"关闭热评"},"translate":false},
    translate: {"translateDelay":0,"defaultEncoding":2},
    lure: {"jump":"404 Not Found","back":"ヾ(≧∇≦*)ゝHey, hey, you fell for it."},
    expire: {"time":30,"position":"top","text_prev":"这篇文章已经是 ","text_next":" 天前了，不保证文章所呈现的内容依旧有效。"},
};</script><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: true,
    ai_text: false,
    color: false,
}</script><!-- hexo injector head_end start --><script defer="" src="/sw-dom.js"></script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="喵洛阁" type="application/atom+xml">
</head><body id="body"><div><canvas id="universe"></canvas></div><div id="global_bg"></div><div><div id="loading-box" onclick="preloader.endLoading();" style="zoom:1"><div class="loading-bg"><img class="loading-img nolazyload" src="https://img.314926.xyz/images/2025/08/05/kemiao-logo.webp" alt="loading image"></div></div><script>const preloader = {
    isLoaded: false,
    endLoading: () => {
        if (!preloader.isLoaded) {
            document.getElementById('loading-box').classList.add('loaded');
            preloader.isLoaded = true;
            preloader.togglePaceDone();
        }
    },
    initLoading: () => {
        document.getElementById('loading-box').classList.remove('loaded');
        preloader.isLoaded = false;
        preloader.togglePaceDone();
    },
    togglePaceDone: () => {
        document.getElementById('body').className = preloader.isLoaded ? 'pace-done' : '';
    }
}

window.addEventListener('load', () => {
    preloader.endLoading();
});

window.addEventListener('pjax:send', () => {
    preloader.initLoading();
});

document.addEventListener('pjax:complete', () => {
    preloader.endLoading();
});

setTimeout(() => {
    preloader.endLoading();
}, 5000);</script></div><div><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="astrabay fas fa-xmark"></i></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">互动</div><div class="author-content-item-title">最新评论<a class="recent-comment-more" href="/recentcomments/" title="最近评论"><i class="astrabay fas fa-circle-chevron-right"></i></a></div></div><div class="console_recentcomments"><script pjax="">(async () => {
    document.querySelector('.console-card .console_recentcomments').textContent = `加载中...`
    const emojiReg = /<img class="tk-owo-emotion" [^>]+>/g
    let cache = utils.saveToLocal.get('twikoo-recent-comments-console')
    if (cache) {
        setHtml(document.querySelector('.console-card .console_recentcomments'), cache)
        return
    }
    let ls = []

    await fetch('https://kemiao-twikoo.050815.xyz', {
        method: "POST",
        body: JSON.stringify({
            "event": "GET_RECENT_COMMENTS",
            "includeReply": true,
            "pageSize": 6
        }),
        headers: {'Content-Type': 'application/json'}
    }).then(res => res.json()).then(async ({data}) => {
        for (const i of data) {
            if (i.avatar === undefined) i.avatar = 'https://gravatar.com/avatar/avatar/d615d5793929e8c7d70eab5f00f7f5f1?d=mp'
            let title = ''
            if (i.url) {
                await fetch(i.url).then(res => res.text()).then(html => {
                    const parser = new DOMParser()
                    const doc = parser.parseFromString(html, 'text/html')
                    title = doc.querySelector('title').innerText
                }).catch(() => {
                    title = i.url
                })
            }
            if (title.indexOf('|') > 0) {
                title = title.split('|')[0]
            }
            ls.push({
                avatar: i.avatar,
                nick: i.nick,
                title: title,
                content: i.comment,
                url: i.url + '#' + i.id,
                time: i.created
            })
        }
        setHtml(document.querySelector('.console-card .console_recentcomments'), ls)
        utils.saveToLocal.set('twikoo-recent-comments-console', ls, 0.2)
    });

    function setHtml(el, data) {
        el.innerHTML = data.length !== 0 ? data.map(i => `
            <div class="comment-card" title="${i.title}" onclick="pjax.loadUrl('${i.url}')">
                <div class="comment-info">
                    <img src="${i.avatar}" class="nolazyload" alt="${i.nick}">
                    <div>
                        <span class="comment-user">${i.nick}</span>
                    </div>
                    <time class="comment-time" datetime="${new Date(i.time)}"></time>
                </div>
                <div class="comment-content">${formatContent(i.content)}</div>
                <div class="comment-title">
                <i class="astrabay fas fa-comment"></i>
                ${i.title}</div>
            </div>
        `).join('') : `暂无评论...`
        if (typeof utils !== 'undefined') utils.diffDateFormat(document.querySelectorAll('.comment-time'))
        else {
            document.addEventListener('pjax:complete', () => utils.diffDateFormat(document.querySelectorAll('.comment-time')))
            document.addEventListener('DOMContentLoaded', () => utils.diffDateFormat(document.querySelectorAll('.comment-time')))
        }
    }

    function formatContent(content) {
        content = content.replace(emojiReg, '表情')
        content = content.replace(/<\/*br>|[\s\uFEFF\xA0]+/g, '');
        content = content.replace(/<img.*?>/g, '[图片]');
        content = content.replace(/<a.*?>.*?<\/a>/g, '[链接]');
        content = content.replace(/<pre.*?>.*?<\/pre>/g, '[代码]');
        content = content.replace(/<.*?>/g, '');
        return content
    }
})()</script></div></div></div><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">标签</div><div class="author-content-item-title">寻找感兴趣的领域</div></div><div class="card-tag-cloud"><a href="/tags/%E5%90%8C%E6%AD%A5/">同步<sup>1</sup></a><a href="/tags/%E5%A4%87%E5%BF%98/">备忘<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/">网站<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1/">设计<sup>1</sup></a><a href="/tags/%E8%AF%84%E8%AE%BA/">评论<sup>1</sup></a><a href="/tags/%E8%AF%AD%E6%B3%95/">语法<sup>1</sup></a><a href="/tags/%E8%AF%B4%E8%AF%B4/">说说<sup>1</sup></a><a href="/tags/%E9%85%8D%E7%BD%AE/">配置<sup>1</sup></a><a href="/tags/git/">git<sup>1</sup></a><a href="/tags/%E9%80%9F%E6%9F%A5%E8%A1%A8/">速查表<sup>1</sup></a><a href="/tags/DROP/">DROP<sup>1</sup></a><a href="/tags/Hexo/">Hexo<sup>1</sup></a><a href="/tags/%E5%BC%BA%E8%B0%83%E8%AF%AD%E6%B3%95/">强调语法<sup>1</sup></a><a href="/tags/%E6%89%98%E7%AE%A1%E5%B9%B3%E5%8F%B0/">托管平台<sup>1</sup></a><a href="/tags/%E6%8D%A2%E8%A1%8C%E8%AF%AD%E6%B3%95/">换行语法<sup>1</sup></a><a href="/tags/%E6%A0%87%E9%A2%98%E8%AF%AD%E6%B3%95/">标题语法<sup>1</sup></a><a href="/tags/%E6%AE%B5%E8%90%BD%E8%AF%AD%E6%B3%95/">段落语法<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99%E7%BB%9F%E8%AE%A1/">网站统计<sup>2</sup></a><a href="/tags/Umami/">Umami<sup>2</sup></a><a href="/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/">音乐播放器<sup>1</sup></a><a href="/tags/GitHub/">GitHub<sup>1</sup></a><a href="/tags/Issues/">Issues<sup>1</sup></a><a href="/tags/Waline/">Waline<sup>1</sup></a><a href="/tags/Toolooz/">Toolooz<sup>1</sup></a><a href="/tags/Telegram/">Telegram<sup>1</sup></a><a href="/tags/markdown/">markdown<sup>5</sup></a></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="item"><a href="/archives/2025/09/"><span class="date">2025/09</span><div class="count-group"><span class="count">1</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/2025/08/"><span class="date">2025/08</span><div class="count-group"><span class="count">1</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/2025/07/"><span class="date">2025/07</span><div class="count-group"><span class="count">1</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/2025/06/"><span class="date">2025/06</span><div class="count-group"><span class="count">1</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/2025/05/"><span class="date">2025/05</span><div class="count-group"><span class="count">4</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/2025/04/"><span class="date">2025/04</span><div class="count-group"><span class="count">3</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/2025/02/"><span class="date">2025/02</span><div class="count-group"><span class="count">3</span><span class="unit">篇</span></div></a></li><li class="item"><a href="/archives/"><span class="date">全部文章</span><div class="count-group"><span class="count">14</span><span class="unit">篇</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="昼夜切换"><i class="astrabay fas fa-circle-half-stroke"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="边栏显示控制"><i class="astrabay fas fa-arrows-left-right-to-line"></i></span></div><div class="console-btn-item" id="consoleKeyboard" onclick="sco.switchKeyboard()"><span class="keyboardSwitch" title="键盘快捷键"><i class="astrabay fas fa-keyboard"></i></span></div><div class="console-btn-item" id="consoleMusic" onclick="sco.musicToggle()"><span class="music-switch" title="音乐开关"><i class="astrabay fas fa-compact-disc"></i></span></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="sco.switchCommentBarrage()"><span class="commentBarrage"><i class="astrabay fas fa-comment"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div></div><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">26</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/recentcomments/"><div class="headline">评论</div><div class="length-num" id="twikoo_allcount"><i class="astrabay fas fa-spinner fa-spin"></i></div><script pjax="pjax">(async () => {
  await fetch('https://kemiao-twikoo.050815.xyz', {
    method: "POST",
    body: JSON.stringify({
      "event": "GET_RECENT_COMMENTS",
      "includeReply": true,
      "pageSize": 999
    }),
    headers: {'Content-Type': 'application/json'}
  }).then(res => res.json()).then(async ({data}) => {
    document.querySelector('#twikoo_allcount').innerHTML = data.length
  })
})()</script></a></div></div></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="astrabay fas fa-circle-half-stroke"></i><span>显示模式</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">资源分享</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://t.me/kemiaofx_me" title="TG频道"><img class="nolazyload back-menu-item-icon" src="https://img.314926.xyz/images/2025/08/16/telegram.webp" alt="TG频道"><span class="back-menu-item-text">TG频道</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="astrabay  fas fa-folder-closed"></i><span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="astrabay  fas fa-clone"></i><span>分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="astrabay  fas fa-tags"></i><span>标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/fcircle/"><i class="astrabay  fas fa-wifi"></i><span>朋友圈</span></a></li><li><a class="site-page child" href="/fc/"><i class="astrabay  fas fa-fish"></i><span>鱼塘</span></a></li><li><a class="site-page child" href="/links/"><i class="astrabay  fas fa-user-group"></i><span>友情链接</span></a></li><li><a class="site-page child" href="javascript:travelling()"><i class="astrabay  fas fa-gift"></i><span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>页面</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/message/"><i class="astrabay  fas fa-comment"></i><span>留言板</span></a></li><li><a class="site-page child" href="/talks/"><i class="astrabay  far fa-comment"></i><span>微语</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="astrabay  fas fa-film"></i><span>追番</span></a></li><li><a class="site-page child" href="/gallery/"><i class="astrabay  fas fa-images"></i><span>画廊</span></a></li><li><a class="site-page child" href="/recentcomment/"><i class="astrabay  fas fa-comments"></i><span>最近评论</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="astrabay  fas fa-user"></i><span>关于</span></a></li><li><a class="site-page child" href="/kit/"><i class="astrabay  fas fa-laptop"></i><span>装备</span></a></li><li><a class="site-page child" href="/music/"><i class="astrabay  fas fa-music"></i><span>音乐馆</span></a></li></ul></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="card-tag-cloud"><a href="/tags/%E5%90%8C%E6%AD%A5/">同步<sup>1</sup></a><a href="/tags/%E5%A4%87%E5%BF%98/">备忘<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99/">网站<sup>1</sup></a><a href="/tags/%E8%AE%BE%E8%AE%A1/">设计<sup>1</sup></a><a href="/tags/%E8%AF%84%E8%AE%BA/">评论<sup>1</sup></a><a href="/tags/%E8%AF%AD%E6%B3%95/">语法<sup>1</sup></a><a href="/tags/%E8%AF%B4%E8%AF%B4/">说说<sup>1</sup></a><a href="/tags/%E9%85%8D%E7%BD%AE/">配置<sup>1</sup></a><a href="/tags/git/">git<sup>1</sup></a><a href="/tags/%E9%80%9F%E6%9F%A5%E8%A1%A8/">速查表<sup>1</sup></a><a href="/tags/DROP/">DROP<sup>1</sup></a><a href="/tags/Hexo/">Hexo<sup>1</sup></a><a href="/tags/%E5%BC%BA%E8%B0%83%E8%AF%AD%E6%B3%95/">强调语法<sup>1</sup></a><a href="/tags/%E6%89%98%E7%AE%A1%E5%B9%B3%E5%8F%B0/">托管平台<sup>1</sup></a><a href="/tags/%E6%8D%A2%E8%A1%8C%E8%AF%AD%E6%B3%95/">换行语法<sup>1</sup></a><a href="/tags/%E6%A0%87%E9%A2%98%E8%AF%AD%E6%B3%95/">标题语法<sup>1</sup></a><a href="/tags/%E6%AE%B5%E8%90%BD%E8%AF%AD%E6%B3%95/">段落语法<sup>1</sup></a><a href="/tags/%E7%BD%91%E7%AB%99%E7%BB%9F%E8%AE%A1/">网站统计<sup>2</sup></a><a href="/tags/Umami/">Umami<sup>2</sup></a><a href="/tags/%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/">音乐播放器<sup>1</sup></a><a href="/tags/GitHub/">GitHub<sup>1</sup></a><a href="/tags/Issues/">Issues<sup>1</sup></a><a href="/tags/Waline/">Waline<sup>1</sup></a><a href="/tags/Toolooz/">Toolooz<sup>1</sup></a><a href="/tags/Telegram/">Telegram<sup>1</sup></a><a href="/tags/markdown/">markdown<sup>5</sup></a></div></div><span class="sidebar-menu-item-title">网站信息</span><div class="webinfo"><div class="webinfo-item"><div class="item-name">全站字数 :</div><div class="item-count">15.8k</div></div></div></div></div><div><div id="keyboard-tips"><div class="keyboardTitle">博客快捷键</div><div class="keyboardList"><div class="keyboardItem"><div class="keyGroup"><div class="key">Shift</div><div class="key">K</div></div><div class="keyContent"><div class="content">关闭快捷菜单</div></div></div><div class="keyboardItem"><div class="keyGroup"><div class="key">Shift</div><div class="key">A</div></div><div class="keyContent"><div class="content">打开控制台</div></div></div><div class="keyboardItem"><div class="keyGroup"><div class="key">Shift</div><div class="key">M</div></div><div class="keyContent"><div class="content">播放/暂停音乐</div></div></div><div class="keyboardItem"><div class="keyGroup"><div class="key">Shift</div><div class="key">L</div></div><div class="keyContent"><div class="content">打开友链</div></div></div></div></div><script>const keyboard_addKeyup = (e) => {
    if (e.key === 'Shift') {
        document.getElementById('keyboard-tips').classList.remove('show');
    }
}

const keyboard_addKeydown = (e) => {
    const keyboards = [{"name":"关闭快捷菜单","key":"K","func":"keyboard"},{"name":"打开控制台","key":"A","sco":"showConsole"},{"name":"播放/暂停音乐","key":"M","sco":"musicToggle"},{"name":"打开友链","key":"L","url":"/links/"}];
    if (e.key === 'Shift') {
        document.getElementById('keyboard-tips').classList.add('show');
    }

    for (let i = 0; i < keyboards.length; i++) {
        if (keyboards[i].url) {
            if (keyboards[i].url.startsWith('http')) {
                if (e.key === keyboards[i].key) {
                    window.open(keyboards[i].url);
                }
            } else {
                if (e.key === keyboards[i].key) {
                    pjax.loadUrl(keyboards[i].url);
                }
            }
        } else if (keyboards[i].sco) {
            if (e.key === keyboards[i].key) {
                sco[keyboards[i].sco]();
            }
        } else if (keyboards[i].func) {
            if (e.key === keyboards[i].key) {
                window[keyboards[i].func]();
            }
        }
    }
}

function openKeyboard() {

    window.addEventListener('keyup', keyboard_addKeyup);

    window.addEventListener('keydown', keyboard_addKeydown);
}
function closeKeyboard() {

    window.removeEventListener('keyup', keyboard_addKeyup);

    window.removeEventListener('keydown', keyboard_addKeydown);
}

var sco_keyboards = localStorage.getItem('keyboard') === 'true'
if (sco_keyboards) {
    openKeyboard();
    let keyboard = document.getElementById('consoleKeyboard');
    keyboard?.classList.add('on');
}</script></div><div><div class="needEndHide" id="rightside"><div class="rs_hide"><button class="translate" type="button" title="简繁转换">简</button><button class="mode" type="button" title="显示模式切换" onclick="sco.switchDarkMode()"><i class="fas fa-circle-half-stroke"></i></button><button class="aside pc" type="button" title="侧边栏" onclick="sco.switchHideAside()"><i class="fas fa-arrows-alt-h"></i></button><button class="keyboard pc" type="button" title="键盘快捷键" onclick="sco.switchKeyboard()"><i class="fas fa-keyboard"></i></button></div><div class="rs_show"><button class="config" type="button" title="扩展" onclick="document.querySelector(&quot;.rs_hide&quot;).classList.toggle(&quot;show&quot;)"><i class="fas fa-gear fa-spin"></i></button><button class="mobile toc" type="button" title="目录" onclick="document.querySelector('#card-toc').classList.toggle('open')"><i class="fas fa-list"></i></button><button class="comment" type="button" title="评论" onclick="sco.scrollTo('post-comment')"><i class="fas fa-comment"></i></button><button class="barrage pc" type="button" title="弹" onclick="sco.switchCommentBarrage()"><span>弹</span></button><button class="top" type="button" title="返回顶部" onclick="sco.toTop()"><i class="fas fa-arrow-up"></i><span id="percent">0</span></button></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div class="back-home-button" tabindex="-1"><i class="astrabay fas fa-bars-progress"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">资源分享</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://t.me/kemiaofx_me" title="TG频道"><img class="nolazyload back-menu-item-icon" src="https://img.314926.xyz/images/2025/08/16/telegram.webp" alt="TG频道"><span class="back-menu-item-text">TG频道</span></a></div></div></div></div><a href="/" title="返回博客主页" id="site-name"><span class="title">喵落阁</span><i class="astrabay fas fa-home"></i></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">hexo备忘</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><span>首页</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>文章</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="astrabay  fas fa-folder-closed"></i><span>归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="astrabay  fas fa-clone"></i><span>分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="astrabay  fas fa-tags"></i><span>标签</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>友链</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/fcircle/"><i class="astrabay  fas fa-wifi"></i><span>朋友圈</span></a></li><li><a class="site-page child" href="/fc/"><i class="astrabay  fas fa-fish"></i><span>鱼塘</span></a></li><li><a class="site-page child" href="/links/"><i class="astrabay  fas fa-user-group"></i><span>友情链接</span></a></li><li><a class="site-page child" href="javascript:travelling()"><i class="astrabay  fas fa-gift"></i><span>宝藏博主</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>页面</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/message/"><i class="astrabay  fas fa-comment"></i><span>留言板</span></a></li><li><a class="site-page child" href="/talks/"><i class="astrabay  far fa-comment"></i><span>微语</span></a></li><li><a class="site-page child" href="/bangumis/"><i class="astrabay  fas fa-film"></i><span>追番</span></a></li><li><a class="site-page child" href="/gallery/"><i class="astrabay  fas fa-images"></i><span>画廊</span></a></li><li><a class="site-page child" href="/recentcomment/"><i class="astrabay  fas fa-comments"></i><span>最近评论</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><span>我的</span></a><ul class="menus_item_child"><li><a class="site-page child" href="/about/"><i class="astrabay  fas fa-user"></i><span>关于</span></a></li><li><a class="site-page child" href="/kit/"><i class="astrabay  fas fa-laptop"></i><span>装备</span></a></li><li><a class="site-page child" href="/music/"><i class="astrabay  fas fa-music"></i><span>音乐馆</span></a></li></ul></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="travellings_button"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html" title=""><i class="astrabay fas fa-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机一篇文章" href="javascript:void(0);"><i class="astrabay fas fa-dice-d20"></i></a></div><div class="nav-button" id="search-button"><a class="site-page social-icon search" href="javascript:void(0);" title="搜索"><i class="astrabay fas fa-magnifying-glass"></i></a></div><div class="nav-button" id="nav-console"><a class="console_switchbutton" onclick="sco.showConsole()" title="中控台" href="javascript:void(0);"><label><i class="left"></i><i class="center"></i><i class="right"></i></label></a></div><div id="toggle-menu"><a class="site-page"><i class="astrabay fas fa-bars"></i></a></div></div></div></nav><div class="coverdiv" id="coverdiv"><img class="nolazyload" id="post-cover" src="https://img.314926.xyz/images/2025/08/20/hexo-beiwang-topic.webp" alt="hexo备忘"></div><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="该文章为原创文章，注意版权协议">原创</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/%E6%8A%80%E6%9C%AF%E5%88%86%E4%BA%AB/">技术分享</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%87%E5%BF%98/"><span class="tags-name tags-punctuation"><i class="astrabay fas fa-hashtag"></i>备忘</span></a><a class="post-meta__tags" href="/tags/%E9%85%8D%E7%BD%AE/"><span class="tags-name tags-punctuation"><i class="astrabay fas fa-hashtag"></i>配置</span></a><a class="post-meta__tags" href="/tags/Hexo/"><span class="tags-name tags-punctuation"><i class="astrabay fas fa-hashtag"></i>Hexo</span></a></div></div></div></div><h1 class="post-title">hexo备忘</h1><div id="post-meta"><div class="meta-secondline"><span class="post-meta-date" title="发布于 2025-08-20 15:08:02"><i class="post-meta-icon astrabay fas fa-calendar-days"></i><time datetime="2025-08-20T07:08:02.000Z">2025-08-20T07:08:02.000Z</time></span><span class="post-meta-date" title="最后更新于 2025-09-25 21:51:05"><i class="post-meta-icon astrabay fas fa-arrows-rotate"></i><time datetime="2025-09-25T13:51:05.627Z">2025-09-25T13:51:05.627Z</time></span><span class="post-meta-wordcount"><i class="post-meta-icon astrabay fas fa-file-word" title="文章字数"></i><span class="word-count">6k</span><span class="post-meta-separator"></span><i class="post-meta-icon astrabay fas fa-clock" title="阅读耗时"></i><span>27 分钟</span></span><a class="post-meta-pv" href="/posts/b405d89f.html" title="文章热度"><i class="post-meta-icon astrabay fas fa-fire-flame-curved"></i><span id="twikoo_visitors"><i class="astrabay fas fa-spinner fa-spin"></i></span></a><span class="post-meta-commentcount" title="评论数" onclick="sco.scrollTo('post-comment')"><i class="astrabay fas fa-comment"></i><a href="/posts/b405d89f.html#post-comment"><span class="twikoo-count"><i class="astrabay fas fa-spinner fa-spin"></i></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content article-container"><h1>Hexo 备忘</h1>
<h2 id="我的配置">我的配置</h2>
<ol>
<li><strong>Hexo 版本</strong>: hexo-cli: 4.3.2, hexo: 7.3.0(当前最新)</li>
<li><strong>Node.js 版本</strong>: 22.16.0</li>
<li><strong>Git 版本</strong>: 2.47.0.sindows.2</li>
<li><strong>PNPM 版本</strong>: 10.12.4</li>
<li><strong>Windows 版本</strong>: 11</li>
</ol>
<h2 id="安装-Node-js">安装 Node.js</h2>
<ol>
<li>
<p>在 <a target="_blank" rel="noopener" href="https://nodejs.org/en/download/">官网</a> 安装 LTS 版本，电脑一般来说内存足够直接在 C 盘即可，当然，换路径也可以，我反正正常下载换路径，没什么问题。</p>
</li>
<li>
<p>安装完成后，检查是否安装成功。在键盘按下 <kbd> win </kbd> + <kbd> R </kbd> 键，输入 <code>CMD</code>，然后回车，打开 CMD 窗口，执行 <code>node -v</code> 命令，看到版本信息，则说明安装成功。</p>
</li>
</ol>
<h2 id="安装-Git">安装 Git</h2>
<p>在 <a target="_blank" rel="noopener" href="https://git-scm.com/download/win">官网</a> 安装最新版本的 <code>64-bit Git for Windows Setup</code> 安装包。</p>
<p>安装完成后，在命令行输入 <code>git --version</code>，如果显示版本号，则说明安装成功。</p>
<h3 id="常用命令">常用命令</h3>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git config -l  //查看所有配置</span><br><span class="line">git config --system --list //查看系统配置</span><br><span class="line">git config --global --list //查看用户（全局）配置</span><br></pre></td></tr></tbody></table></figure>
<h3 id="配置-Git-用户名和邮箱">配置 Git 用户名和邮箱</h3>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git config --global user.name <span class="string">"你的用户名"</span></span><br><span class="line">git config --global user.email <span class="string">"你的邮箱"</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="安装-包管理器">安装 包管理器</h2>
<p>安装 npm 为一切的基石，一般来说，你安装了 node，也相当于你安装了 npm，通过一下命令来验证：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">npm -v</span><br><span class="line">node -v</span><br></pre></td></tr></tbody></table></figure>
<p><strong>修改 npm 源</strong>。npm 下载各种模块，默认是从国外服务器下载，速度较慢，建议配置成淘宝镜像。打开 CMD 窗口，运行如下命令:</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br></pre></td></tr></tbody></table></figure>
<h3 id="安装-pnpm">安装 pnpm</h3>
<p>pnpm 是一个快速、节省磁盘空间的包管理器，类似于 npm 和 yarn。安装 pnpm 可以通过以下命令：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">npm install -g pnpm</span><br></pre></td></tr></tbody></table></figure>
<p>为什么选择 pnpm？因为它的安装速度快，依赖管理更高效，且相对于 npm，我使用 npm 容易失败且慢，pnpm 给我的体验更好。</p>
<h2 id="安装-Hexo">安装 Hexo</h2>
<ol>
<li>在 Git BASH 输入如下命令安装 Hexo：</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm install -g hexo-cli</span><br></pre></td></tr></tbody></table></figure>
<ol start="2">
<li>安装完后输入 <code>hexo -v</code> 验证是否安装成功。</li>
</ol>
<hr>
<h2 id="a-id-github-config-a-Github配置"><a id="github-config"></a>Github配置</h2>
<blockquote>
<p>上述操作是前提，接下来是配置 Github。</p>
</blockquote>
<p>注册 github 就不说了，很基础的东西，连我个代码小白都懂就不多说了。</p>
<h3 id="创建仓库">创建仓库</h3>
<ol>
<li>登录 GitHub，点击右上角的 <code>+</code> 号，选择 <code>New repository</code>。</li>
<li>填写仓库名称，建议使用 <code>&lt;username&gt;.github.io</code> 格式（例如：<code>yourusername.github.io</code>），这样可以直接作为个人主页。</li>
</ol>
<p>这里我不准备直接使用常规的 <code>hexo deploy</code> 命令来部署到 GitHub Pages，因为当你的文章一多，生成时间就会繁琐，这里的建议是使用 <code>Github Actions</code> 来自动部署。</p>
<blockquote>
<p>这一部分的教程是源于 <a target="_blank" rel="noopener" href="https://akilar.top/posts/f752c86d/">店长的文章</a>，但是有点老旧了，于是我做了点更改（这里的图片来源于 <a target="_blank" rel="noopener" href="https://blog.anheyu.com/posts/asdx.html">安知鱼</a>）：</p>
</blockquote>
<ol>
<li>首先要创建一个放置源码的私有仓库，以下称之为 <code>hexo-source</code>，</li>
<li>然后要生成一个 Github 密钥：</li>
</ol>
<blockquote>
<p>访问 Github-&gt; 头像（右上角）-&gt; Settings-&gt; Developer Settings-&gt; Personal access tokens-&gt; generate new token, 创建的 Token 名称随意，但必须勾选 repo 项 和 workflows 项。</p>
</blockquote>
<p>点击 <a target="_blank" rel="noopener" href="https://github.com/settings/tokens">链接</a> 前往生成</p>
<p><img src= "https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp" data-lazy-src="https://img.314926.xyz/images/2025/08/17/jiaoxue1.webp" alt=""><br>
<img src= "https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp" data-lazy-src="https://img.314926.xyz/images/2025/08/17/jiaoxue2.webp" alt=""></p>
<div class="note info"><i class="solitude fas fa-circle-exclamation"></i><blockquote>
<p>!!! token 只会显示这一次，之后将无法查看，所以务必保证你已经记录下了 Token。之后如果忘记了就只能重新生成重新配置了。</p>
</blockquote></div>
<ol start="3">
<li>在 <code>hexo-source</code> 仓库中的设置里点击设置 -&gt; action -&gt; General -&gt; 工作流程权限
<ul>
<li>勾选 <code>Read and write permissions</code>，并且勾选 <code>Allow &lt;span style="background:#FF0000;"&gt;&lt;/span&gt;all actions and reusable workflows</code>。</li>
</ul>
</li>
<li>在设置里 -&gt; Secrets and variables -&gt; Actions -&gt; New repository secret 添加</li>
</ol>
<ul>
<li><code>GITHUBTOKEN</code>：放置你刚才生成的 Token。</li>
</ul>
<hr>
<h2 id="上述是前置条件，接下来要先部署-hexo，你才好继续下一步。">上述是前置条件，接下来要先部署 hexo，你才好继续下一步。</h2>
<h2 id="初始化-Hexo">初始化 Hexo</h2>
<ol>
<li>在本地新建一个文件夹，例如 <code>hexo-solitude</code>。</li>
<li>这里我是用的是 vscode 打开该文件夹，然后在终端输入以下命令来初始化 Hexo：</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">hexo init (项目名称)</span><br></pre></td></tr></tbody></table></figure>
<p>我一般都不填，直接在文件下下就可以开始，如果你添加了项目名称，那么下一步就是：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> (项目名称)</span><br></pre></td></tr></tbody></table></figure>
<ol start="3">
<li>安装依赖包：</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm install</span><br></pre></td></tr></tbody></table></figure>
<p>然后就是选择你想要的主题，这里我使用的是<a target="_blank" rel="noopener" href="https://solitude.js.org/cn/getting-started/installation">Solitude</a>，具体的配置不细讲，我只讲一部分：</p>
<p>首先就是基本的安装，这里还是选择<code>git clone</code>没有别的原因，主要还是会改点源码，不想改的直接pnpm下载即可：</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">// git安装</span><br><span class="line">git clone -b dev https://github.com/everfu/hexo-theme-solitude.git themes/solitude</span><br><span class="line"></span><br><span class="line">// pnpm 安装</span><br><span class="line">pnpm i hexo-theme-solitude</span><br></pre></td></tr></tbody></table></figure>
<p>然后在<code>_config.yml</code>里修改成：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">solitude</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="配置">配置</h2>
<p>下列代码是我的备忘：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/configuration.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/hexojs/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">喵落阁</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">'克喵的博客'</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">'愿你看清一切真相后，依旧热爱你的家人和朋友。'</span></span><br><span class="line"><span class="attr">keywords:</span> <span class="string">克喵,kemiao,博客</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">克喵爱吃卤面</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">'Asia/Shanghai'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as 'https://username.github.io/project'</span></span><br><span class="line"><span class="attr">url:</span> <span class="comment"># 填网站地址</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span></span><br><span class="line"><span class="attr">permalink_defaults:</span></span><br><span class="line"><span class="attr">pretty_urls:</span></span><br><span class="line">  <span class="attr">trailing_index:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing 'index.html' from permalinks</span></span><br><span class="line">  <span class="attr">trailing_html:</span> <span class="literal">true</span> <span class="comment"># Set to false to remove trailing '.html' from permalinks</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Directory</span></span><br><span class="line"><span class="attr">source_dir:</span> <span class="string">source</span></span><br><span class="line"><span class="attr">public_dir:</span> <span class="string">public</span></span><br><span class="line"><span class="attr">tag_dir:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">archive_dir:</span> <span class="string">archives</span></span><br><span class="line"><span class="attr">category_dir:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">code_dir:</span> <span class="string">downloads/code</span></span><br><span class="line"><span class="attr">i18n_dir:</span> <span class="string">:lang</span></span><br><span class="line"><span class="attr">skip_render:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing</span></span><br><span class="line"><span class="attr">new_post_name:</span> <span class="string">:title.md</span> <span class="comment"># File name of new posts</span></span><br><span class="line"><span class="attr">default_layout:</span> <span class="string">post</span></span><br><span class="line"><span class="attr">titlecase:</span> <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line"><span class="attr">external_link:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">  <span class="attr">field:</span> <span class="string">site</span> <span class="comment"># Apply to the whole site</span></span><br><span class="line">  <span class="attr">exclude:</span> <span class="string">''</span></span><br><span class="line"><span class="attr">filename_case:</span> <span class="number">0</span></span><br><span class="line"><span class="attr">render_drafts:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">relative_link:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">future:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">syntax_highlighter:</span> <span class="string">highlight.js</span></span><br><span class="line"><span class="attr">highlight:</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">auto_detect:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">''</span></span><br><span class="line">  <span class="attr">wrap:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">hljs:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">prismjs:</span></span><br><span class="line">  <span class="attr">preprocess:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">line_number:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">tab_replace:</span> <span class="string">''</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Home page setting</span></span><br><span class="line"><span class="comment"># path: Root path for your blogs index page. (default = '')</span></span><br><span class="line"><span class="comment"># per_page: Posts displayed per page. (0 = disable pagination)</span></span><br><span class="line"><span class="comment"># order_by: Posts order. (Order by date descending by default)</span></span><br><span class="line"><span class="attr">index_generator:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">''</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag</span></span><br><span class="line"><span class="attr">default_category:</span> <span class="string">uncategorized</span></span><br><span class="line"><span class="attr">category_map:</span></span><br><span class="line"><span class="attr">tag_map:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Metadata elements</span></span><br><span class="line"><span class="comment">## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta</span></span><br><span class="line"><span class="attr">meta_generator:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line"><span class="attr">date_format:</span> <span class="string">YYYY-MM-DD</span></span><br><span class="line"><span class="attr">time_format:</span> <span class="string">HH:mm:ss</span></span><br><span class="line"><span class="comment">## updated_option supports 'mtime', 'date', 'empty'</span></span><br><span class="line"><span class="attr">updated_option:</span> <span class="string">'mtime'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line"><span class="attr">per_page:</span> <span class="number">10</span></span><br><span class="line"><span class="attr">pagination_dir:</span> <span class="string">page</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Include / Exclude file(s)</span></span><br><span class="line"><span class="comment">## include:/exclude: options only apply to the 'source/' folder</span></span><br><span class="line"><span class="attr">include:</span> []</span><br><span class="line"><span class="attr">exclude:</span> []</span><br><span class="line"><span class="attr">ignore:</span> []</span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions</span></span><br><span class="line"><span class="comment">## Plugins: https://hexo.io/plugins/</span></span><br><span class="line"><span class="comment">## Themes: https://hexo.io/themes/</span></span><br><span class="line"><span class="attr">theme:</span> <span class="string">solitude</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">git@github.com-xx:kemiaofxjun/kemiaofxjun.github.io.git</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># RSS Feed 配置</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">atom</span>          <span class="comment"># 生成 atom.xml</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">atom.xml</span>      <span class="comment"># 输出文件名</span></span><br><span class="line">  <span class="attr">limit:</span> <span class="number">20</span>           <span class="comment"># 最多显示文章数 (0=全部)</span></span><br><span class="line">  <span class="attr">hub:</span>                <span class="comment"># PubSubHubbub 中心 (可选)</span></span><br><span class="line">  <span class="attr">content:</span> <span class="literal">true</span>       <span class="comment"># 是否包含全文内容 (true=是, false=仅摘要)</span></span><br><span class="line">  <span class="attr">content_limit:</span> <span class="number">140</span>  <span class="comment"># 摘要长度（当 content=false 时生效）</span></span><br><span class="line">  <span class="attr">content_limit_delim:</span> <span class="string">' '</span>  <span class="comment"># 截断分隔符</span></span><br><span class="line">  <span class="attr">order_by:</span> <span class="string">-date</span>     <span class="comment"># 按日期倒序排列</span></span><br><span class="line">  <span class="attr">autodiscovery:</span> <span class="literal">true</span> <span class="comment"># 在 HTML 头部添加自动发现标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 数学公式渲染配置</span></span><br><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">preset:</span> <span class="string">'default'</span> <span class="comment"># 使用的 MD 语法，默认使用的 GFM</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span> <span class="comment"># 渲染 html</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">langPrefix:</span> <span class="string">'language-'</span> <span class="comment"># 在代码块的类名中添加前缀（指定语言时）。</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span> <span class="comment"># 如果你写了一个链接而不是 [name](link) 方式，会自动识别为链接并渲染。</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span> <span class="comment"># 将替换常见的印刷元素。</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">'“”‘’'</span> <span class="comment"># 替换文章张的 "" '' 号</span></span><br><span class="line">  <span class="attr">enable_rules:</span></span><br><span class="line">  <span class="attr">disable_rules:</span></span><br><span class="line">  <span class="attr">plugins:</span> <span class="comment"># 使用插件</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span> <span class="comment"># 渲染标题的级别（h1,h2,h3）</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">''</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">'headerlink'</span></span><br><span class="line">    <span class="attr">permalinkSide:</span> <span class="string">'left'</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">''</span></span><br><span class="line">    <span class="attr">case:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">separator:</span> <span class="string">'-'</span></span><br><span class="line">  <span class="attr">images:</span> <span class="comment"># 图片的一些编译</span></span><br><span class="line">    <span class="attr">lazyload:</span> <span class="literal">true</span> <span class="comment"># 是否需要渲染 lazyload</span></span><br><span class="line">    <span class="attr">prepend_root:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">post_asset:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">inline:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">swpp:</span></span><br><span class="line">  <span class="comment"># 是否启用插件</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 是否在发布前自动执行脚本</span></span><br><span class="line">  <span class="attr">auto_exec:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">gen_dom:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 文章链接转数字或字母：https://github.com/rozbo/hexo-abbrlink</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">    <span class="attr">alg:</span> <span class="string">crc16</span>   <span class="comment">#算法： crc16(default) and crc32</span></span><br><span class="line">    <span class="attr">rep:</span> <span class="string">hex</span>     <span class="comment">#进制： dec(default) and hex: dec #输出进制：十进制和十六进制，默认为10进制。丨dec为十进制，hex</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># https://github.com/hexojs/hexo-generator-sitemap</span></span><br><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">sitemap.xml</span></span><br><span class="line">  <span class="attr">rel:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">""</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">""</span></span><br><span class="line">  <span class="attr">adminApiKey:</span> <span class="string">""</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">"index-name"</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip:truncate,0,500</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gallery</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">photos</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">slug</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># hexo-safego安全跳转插件</span></span><br><span class="line"><span class="comment"># see https://blog.liushen.fun/posts/1dfd1f41/</span></span><br><span class="line"><span class="attr">hexo_safego:</span></span><br><span class="line">  <span class="comment"># 基本功能设置</span></span><br><span class="line">  <span class="attr">general:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>                <span class="comment"># 启用插件</span></span><br><span class="line">    <span class="attr">enable_base64_encode:</span> <span class="literal">true</span>  <span class="comment"># 使用 Base64 编码</span></span><br><span class="line">    <span class="attr">enable_target_blank:</span> <span class="literal">true</span>   <span class="comment"># 从新窗口打开跳转页面</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 安全设置</span></span><br><span class="line">  <span class="attr">security:</span></span><br><span class="line">    <span class="attr">url_param_name:</span> <span class="string">'u'</span>         <span class="comment"># URL 参数名</span></span><br><span class="line">    <span class="attr">html_file_name:</span> <span class="string">'go.html'</span>   <span class="comment"># 重定向页面的文件名</span></span><br><span class="line">    <span class="attr">ignore_attrs:</span>               <span class="comment"># 忽略处理的 HTML 结构</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'data-fancybox'</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 容器与页面设置</span></span><br><span class="line">  <span class="attr">scope:</span></span><br><span class="line">    <span class="attr">apply_containers:</span>           <span class="comment"># 应用的容器选择器</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'#article-container'</span></span><br><span class="line">    <span class="attr">apply_pages:</span>                <span class="comment"># 应用的页面路径</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/posts/"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/devices/"</span></span><br><span class="line">    <span class="attr">exclude_pages:</span>              <span class="comment"># 排除的页面路径</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 域名白名单</span></span><br><span class="line">  <span class="attr">whitelist:</span></span><br><span class="line">    <span class="attr">domain_whitelist:</span>           <span class="comment"># 允许的白名单域名，通过字符串匹配实现</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"kemeow.top"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"kemiaosw.top"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"050815.xyz"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"314926.xyz"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"051531.xyz"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 页面外观设置</span></span><br><span class="line">  <span class="attr">appearance:</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp</span>   <span class="comment"># 跳转页面头像路径</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">"喵洛阁"</span>            <span class="comment"># 跳转页面标题</span></span><br><span class="line">    <span class="attr">subtitle:</span> <span class="string">"安全中心"</span>         <span class="comment"># 跳转页面副标题</span></span><br><span class="line">    <span class="attr">darkmode:</span> <span class="string">auto</span>              <span class="comment"># 是否启用深色模式</span></span><br><span class="line">    <span class="attr">countdowntime:</span> <span class="number">4</span>            <span class="comment"># 跳转页面倒计时秒数，如果设置为负数则为不自动跳转</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># 调试设置</span></span><br><span class="line">  <span class="attr">debug:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span>               <span class="comment"># 启用调试模式</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 追番插件</span></span><br><span class="line"><span class="comment"># https://github.com/HCLonely/hexo-bilibili-bangumi</span></span><br><span class="line"><span class="attr">bangumi:</span> <span class="comment"># 追番设置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">source:</span> <span class="string">bili</span></span><br><span class="line">  <span class="attr">path:</span> </span><br><span class="line">  <span class="attr">vmid:</span> <span class="number">3546643173477234</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">"追番列表"</span></span><br><span class="line">  <span class="attr">quote:</span> <span class="string">"生命不息，追番不止！"</span></span><br><span class="line">  <span class="attr">show:</span> <span class="number">1</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">loading:</span></span><br><span class="line">  <span class="attr">showMyComment:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">pagination:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">extra_options:</span></span><br><span class="line">    <span class="attr">top_img:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">lazyload:</span></span><br><span class="line">      <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>博客的其他修改基本就是来自教程和一些博主的网站。</p>
<hr>
<h2 id="插件">插件</h2>
<ol>
<li><strong>基础依赖</strong> <code>hexo-renderer-pug</code></li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-renderer-pug</span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="2">
<li><strong>字数统计</strong> <code>hexo-wordcount</code></li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-wordcount</span><br></pre></td></tr></tbody></table></figure>
<p>配置里修改：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># --------------------------- start ---------------------------</span></span><br><span class="line"><span class="comment"># Word count</span></span><br><span class="line"><span class="comment"># 字数统计</span></span><br><span class="line"><span class="comment"># warning: Please install the hexo-wordcount plugin first.</span></span><br><span class="line"><span class="comment"># 警告: 请先安装 hexo-wordcount 插件。</span></span><br><span class="line"><span class="attr">wordcount:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># --------------------------- end ---------------------------</span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="3">
<li><strong>数学公式</strong> 卸载 <code>hexo-render-marked</code></li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">npm un hexo-renderer-marked</span><br></pre></td></tr></tbody></table></figure>
<p>安装 <code>hexo-renderer-markdown-it</code> <code>katex</code> <code>@renbaoshuo/markdown-it-katex</code></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-renderer-markdown-it katex @renbaoshuo/markdown-it-katex</span><br></pre></td></tr></tbody></table></figure>
<p>配置里修改</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># --------------------------- start ---------------------------</span></span><br><span class="line"><span class="comment"># Katex</span></span><br><span class="line"><span class="comment"># Latex formula support</span></span><br><span class="line"><span class="comment"># Latex 公式支持</span></span><br><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Whether to load on each page</span></span><br><span class="line">  <span class="comment"># 是否在每个页面加载</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Whether to enable copy formula</span></span><br><span class="line">  <span class="comment"># 是否启用复制公式</span></span><br><span class="line">  <span class="attr">copytex:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># --------------------------- end ---------------------------</span></span><br></pre></td></tr></tbody></table></figure>
<p>添加以下内容到 <code>_config.yml</code></p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">preset:</span> <span class="string">'default'</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line">    <span class="attr">html:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">xhtmlOut:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">langPrefix:</span> <span class="string">'language-'</span></span><br><span class="line">    <span class="attr">breaks:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">linkify:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">quotes:</span> <span class="string">'“”‘’'</span></span><br><span class="line">  <span class="attr">enable_rules:</span></span><br><span class="line">  <span class="attr">disable_rules:</span></span><br><span class="line">  <span class="attr">plugins:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">'@renbaoshuo/markdown-it-katex'</span></span><br><span class="line">  <span class="attr">anchors:</span></span><br><span class="line">    <span class="attr">level:</span> <span class="number">2</span></span><br><span class="line">    <span class="attr">collisionSuffix:</span> <span class="string">''</span></span><br><span class="line">    <span class="attr">permalink:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">permalinkClass:</span> <span class="string">'header-anchor'</span></span><br><span class="line">    <span class="attr">permalinkSide:</span> <span class="string">'left'</span></span><br><span class="line">    <span class="attr">permalinkSymbol:</span> <span class="string">'¶'</span></span><br><span class="line">    <span class="attr">case:</span> <span class="number">0</span></span><br><span class="line">    <span class="attr">separator:</span> <span class="string">'-'</span></span><br><span class="line">  <span class="attr">images:</span></span><br><span class="line">    <span class="attr">lazyload:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">prepend_root:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">post_asset:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">inline:</span> <span class="literal">false</span>  <span class="comment"># https://markdown-it.github.io/markdown-it/#MarkdownIt.renderInline</span></span><br></pre></td></tr></tbody></table></figure>
<p>开启配置项</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># --------------------------- start ---------------------------</span></span><br><span class="line"><span class="comment"># Katex</span></span><br><span class="line"><span class="comment"># Latex formula support</span></span><br><span class="line"><span class="comment"># Latex 公式支持</span></span><br><span class="line"><span class="attr">katex:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Whether to load on each page</span></span><br><span class="line">  <span class="comment"># 是否在每个页面加载</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Whether to enable copy formula</span></span><br><span class="line">  <span class="comment"># 是否启用复制公式</span></span><br><span class="line">  <span class="attr">copytex:</span> <span class="literal">false</span></span><br><span class="line"><span class="comment"># --------------------------- end ---------------------------</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="4">
<li><strong>PWA</strong> 安装 hexo-swpp 和 swpp-backends 插件</li>
</ol>
<p>在博客根目录执行</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-swpp </span><br><span class="line"></span><br><span class="line">pnpm i swpp-backends</span><br></pre></td></tr></tbody></table></figure>
<p>开启配置</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 大约在773行</span></span><br><span class="line"><span class="comment"># --------------------------- start ---------------------------</span></span><br><span class="line"><span class="comment"># PWA</span></span><br><span class="line"><span class="comment"># Progressive Web App</span></span><br><span class="line"><span class="attr">pwa:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">manifest:</span> <span class="string">/manifest.json</span> <span class="comment"># manifest.json</span></span><br><span class="line">  <span class="attr">theme_color:</span> <span class="string">"#006a73"</span> <span class="comment"># Theme color</span></span><br><span class="line">  <span class="attr">mask_icon:</span> <span class="string">/img/pwa/favicon.png</span> <span class="comment"># Mask icon</span></span><br><span class="line">  <span class="attr">apple_touch_icon:</span> <span class="string">/img/pwa/favicon.png</span> <span class="comment"># Apple touch icon</span></span><br><span class="line">  <span class="attr">bookmark_icon:</span> <span class="string">/img/pwa/favicon.png</span> <span class="comment"># Bookmark icon</span></span><br><span class="line">  <span class="attr">favicon_32_32:</span> <span class="string">/img/pwa/favicon_32.png</span> <span class="comment"># 32x32 icon</span></span><br><span class="line">  <span class="attr">favicon_16_16:</span> <span class="string">/img/pwa/favicon_16.png</span> <span class="comment"># 16x16 icon</span></span><br><span class="line"><span class="comment"># --------------------------- end ---------------------------</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>在<code>_config.yml</code>里添加swpp配置</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">swpp:</span></span><br><span class="line">  <span class="comment"># 是否启用插件</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># 是否在发布前自动执行脚本</span></span><br><span class="line">  <span class="attr">auto_exec:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">gen_dom:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure>
<p>在 <code>source</code> 目录中创建 <code>manifest.json</code> 文件</p>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"网站名称"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"short_name"</span><span class="punctuation">:</span> <span class="string">"网站名称缩写"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"theme_color"</span><span class="punctuation">:</span> <span class="string">"#006a73"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"background_color"</span><span class="punctuation">:</span> <span class="string">"#006a73"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"display"</span><span class="punctuation">:</span> <span class="string">"fullscreen"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"scope"</span><span class="punctuation">:</span> <span class="string">"/"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"start_url"</span><span class="punctuation">:</span> <span class="string">"/"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"id"</span><span class="punctuation">:</span> <span class="string">"/"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"icons"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"src"</span><span class="punctuation">:</span> <span class="string">"/img/pwa/favicon_16.png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"sizes"</span><span class="punctuation">:</span> <span class="string">"16x16"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"image/png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"purpose"</span><span class="punctuation">:</span> <span class="string">"any"</span></span><br><span class="line">      <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"src"</span><span class="punctuation">:</span> <span class="string">"/img/pwa/favicon_16.png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"sizes"</span><span class="punctuation">:</span> <span class="string">"16x16"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"image/png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"purpose"</span><span class="punctuation">:</span> <span class="string">"maskable"</span></span><br><span class="line">      <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"src"</span><span class="punctuation">:</span> <span class="string">"/img/pwa/favicon_32.png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"sizes"</span><span class="punctuation">:</span> <span class="string">"32x32"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"image/png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"purpose"</span><span class="punctuation">:</span> <span class="string">"any"</span></span><br><span class="line">      <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"src"</span><span class="punctuation">:</span> <span class="string">"/img/pwa/favicon_32.png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"sizes"</span><span class="punctuation">:</span> <span class="string">"32x32"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"image/png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"purpose"</span><span class="punctuation">:</span> <span class="string">"maskable"</span></span><br><span class="line">      <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"src"</span><span class="punctuation">:</span> <span class="string">"/img/pwa/favicon.png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"sizes"</span><span class="punctuation">:</span> <span class="string">"180x180"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"image/png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"purpose"</span><span class="punctuation">:</span> <span class="string">"any"</span></span><br><span class="line">      <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">      <span class="punctuation">{</span></span><br><span class="line">        <span class="attr">"src"</span><span class="punctuation">:</span> <span class="string">"/img/pwa/favicon.png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"sizes"</span><span class="punctuation">:</span> <span class="string">"180x180"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"image/png"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">"purpose"</span><span class="punctuation">:</span> <span class="string">"maskable"</span></span><br><span class="line">      <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"splash_pages"</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">null</span></span></span><br><span class="line"><span class="punctuation">}</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>在博客根目录创建一个 <code>sw-rules.js</code> 文件</p>
<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">config</span> = {</span><br><span class="line">  <span class="comment">/** <span class="doctag">@type</span> {<span class="type">?ServiceWorkerConfig|boolean</span>} */</span></span><br><span class="line">  <span class="attr">serviceWorker</span>: {</span><br><span class="line">    <span class="attr">escape</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">cacheName</span>: <span class="string">'SolitudeCache'</span>,</span><br><span class="line">    <span class="attr">debug</span>: <span class="literal">false</span>,</span><br><span class="line">  },</span><br><span class="line">  <span class="attr">register</span>: {</span><br><span class="line">    <span class="attr">onsuccess</span>: <span class="literal">undefined</span>,</span><br><span class="line">    <span class="attr">onerror</span>: <span class="function">() =&gt;</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(</span><br><span class="line">        <span class="string">'Service Worker 注册失败！可能是由于您的浏览器不支持该功能！'</span></span><br><span class="line">      ),</span><br><span class="line">    <span class="attr">builder</span>: <span class="function">(<span class="params">root, framework, pluginConfig</span>) =&gt;</span> {</span><br><span class="line">      <span class="keyword">const</span> { onerror, onsuccess } = pluginConfig.<span class="property">register</span>;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;script&gt;</span></span><br><span class="line"><span class="string">                (() =&gt; {</span></span><br><span class="line"><span class="string">                    const sw = navigator.serviceWorker;</span></span><br><span class="line"><span class="string">                    const error = <span class="subst">${onerror &amp;&amp; onerror.toString()}</span>;</span></span><br><span class="line"><span class="string">                    if (!sw?.register('<span class="subst">${<span class="keyword">new</span> URL(root).pathname}</span>sw.js')</span></span><br><span class="line"><span class="string">                        <span class="subst">${onsuccess ? <span class="string">`?.then(<span class="subst">${onsuccess.toString()}</span>)`</span> : <span class="string">""</span>}</span></span></span><br><span class="line"><span class="string">                        ?.catch(error)</span></span><br><span class="line"><span class="string">                    ) error()</span></span><br><span class="line"><span class="string">                })()</span></span><br><span class="line"><span class="string">            &lt;/script&gt;`</span>;</span><br><span class="line">    },</span><br><span class="line">  },</span><br><span class="line">  <span class="comment">/** <span class="doctag">@type</span> {<span class="type">?DomConfig|boolean</span>} */</span></span><br><span class="line">  <span class="attr">dom</span>: {</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">?VoidFunction</span>} */</span></span><br><span class="line">    <span class="attr">onsuccess</span>: <span class="function">() =&gt;</span> {</span><br><span class="line">      caches</span><br><span class="line">        .<span class="title function_">match</span>(<span class="string">'https://id.v3/'</span>)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">res</span>) =&gt;</span> {</span><br><span class="line">          <span class="keyword">if</span> (res)</span><br><span class="line">            res.<span class="title function_">json</span>().<span class="title function_">then</span>(<span class="function">(<span class="params">json</span>) =&gt;</span> {</span><br><span class="line">              utils &amp;&amp;</span><br><span class="line">                utils.<span class="title function_">snackbarShow</span>(</span><br><span class="line">                  <span class="string">`已刷新缓存，更新为<span class="subst">${json.<span class="built_in">escape</span> + <span class="string">'.'</span> + json.<span class="variable language_">global</span> + <span class="string">'.'</span> + json.local</span></span></span><br><span class="line"><span class="subst"><span class="string">                  }</span>版本最新内容`</span>,</span><br><span class="line">                  <span class="literal">false</span>,</span><br><span class="line">                  <span class="number">2500</span></span><br><span class="line">                );</span><br><span class="line">            });</span><br><span class="line">          <span class="keyword">else</span> <span class="variable language_">console</span>.<span class="title function_">info</span>(<span class="string">'未找到缓存'</span>);</span><br><span class="line">        })</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">'缓存匹配出错'</span>, error));</span><br><span class="line">    },</span><br><span class="line">  },</span><br><span class="line">  <span class="comment">/** <span class="doctag">@type</span> {<span class="type">?VersionJsonConfig|boolean</span>} */</span></span><br><span class="line">  <span class="attr">json</span>: {</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">number</span>} */</span></span><br><span class="line">    <span class="attr">maxHtml</span>: <span class="number">15</span>,</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">number</span>} */</span></span><br><span class="line">    <span class="attr">charLimit</span>: <span class="number">1024</span>,</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">string[]</span>} */</span></span><br><span class="line">    <span class="attr">merge</span>: [],</span><br><span class="line">    <span class="attr">exclude</span>: {</span><br><span class="line">      <span class="comment">/** <span class="doctag">@type</span> {<span class="type">RegExp[]</span>} */</span></span><br><span class="line">      <span class="attr">localhost</span>: [],</span><br><span class="line">      <span class="comment">/** <span class="doctag">@type</span> {<span class="type">RegExp[]</span>} */</span></span><br><span class="line">      <span class="attr">other</span>: [],</span><br><span class="line">    },</span><br><span class="line">  },</span><br><span class="line">  <span class="comment">/** <span class="doctag">@type</span> {<span class="type">?ExternalMonitorConfig|boolean</span>} */</span></span><br><span class="line">  <span class="attr">external</span>: {</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">number</span>} */</span></span><br><span class="line">    <span class="attr">timeout</span>: <span class="number">5000</span>,</span><br><span class="line">    <span class="comment">/** 拉取文件时地并发限制 */</span></span><br><span class="line">    <span class="attr">concurrencyLimit</span>: <span class="number">100</span>,</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">({head: string, tail: string</span>}|function(string):string[])[]} */</span></span><br><span class="line">    <span class="attr">js</span>: [],</span><br><span class="line">    <span class="comment">/** <span class="doctag">@type</span> {<span class="type">RegExp[]</span>} */</span></span><br><span class="line">    <span class="attr">stable</span>: [</span><br><span class="line">      <span class="regexp">/^https:\/\/npm\.elemecdn\.com\/[^/@]+\@[^/@]+\/[^/]+\/[^/]+$/</span>,</span><br><span class="line">      <span class="regexp">/^https:\/\/cdn\.cbd\.int\/[^/@]+\@[^/@]+\/[^/]+\/[^/]+$/</span>,</span><br><span class="line">      <span class="regexp">/^https:\/\/cdn\.jsdelivr\.net\/npm\/[^/@]+\@[^/@]+\/[^/]+\/[^/]+$/</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">replacer</span>: <span class="function">(<span class="params">srcUrl</span>) =&gt;</span> {</span><br><span class="line">      <span class="keyword">if</span> (srcUrl.<span class="title function_">startsWith</span>(<span class="string">'https://cdn.jsdelivr.net/npm/'</span>)) {</span><br><span class="line">        <span class="keyword">const</span> pathname = <span class="keyword">new</span> <span class="title function_">URL</span>(srcUrl).<span class="property">pathname</span>;</span><br><span class="line">        <span class="keyword">return</span> [</span><br><span class="line">          srcUrl,</span><br><span class="line">          <span class="string">`https://cdn.cbd.int/<span class="subst">${pathname}</span>`</span>,</span><br><span class="line">          <span class="string">`https://npm.elemecdn.com/<span class="subst">${pathname}</span>`</span>,</span><br><span class="line">          <span class="string">`https://fastly.jsdelivr.net/npm/<span class="subst">${pathname}</span>`</span>,</span><br><span class="line">        ];</span><br><span class="line">      } <span class="keyword">else</span> {</span><br><span class="line">        <span class="keyword">return</span> srcUrl;</span><br><span class="line">      }</span><br><span class="line">    },</span><br><span class="line">  },</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">cacheRules</span> = {</span><br><span class="line">  <span class="attr">simple</span>: {</span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">search</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">match</span>: <span class="function">(<span class="params">url, $eject</span>) =&gt;</span></span><br><span class="line">      url.<span class="property">host</span> === $eject.<span class="property">domain</span> &amp;&amp; [<span class="string">'/404.html'</span>].<span class="title function_">includes</span>(url.<span class="property">pathname</span>),</span><br><span class="line">  },</span><br><span class="line">  <span class="attr">cdn</span>: {</span><br><span class="line">    <span class="attr">clean</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">match</span>: <span class="function">(<span class="params">url</span>) =&gt;</span></span><br><span class="line">      [</span><br><span class="line">        <span class="string">'cdn.cbd.int'</span>,</span><br><span class="line">        <span class="string">'lf26-cdn-tos.bytecdntp.com'</span>,</span><br><span class="line">        <span class="string">'lf6-cdn-tos.bytecdntp.com'</span>,</span><br><span class="line">        <span class="string">'lf3-cdn-tos.bytecdntp.com'</span>,</span><br><span class="line">        <span class="string">'lf9-cdn-tos.bytecdntp.com'</span>,</span><br><span class="line">        <span class="string">'cdn.staticfile.org'</span>,</span><br><span class="line">        <span class="string">'npm.elemecdn.com'</span>,</span><br><span class="line">      ].<span class="title function_">includes</span>(url.<span class="property">host</span>) &amp;&amp;</span><br><span class="line">      url.<span class="property">pathname</span>.<span class="title function_">match</span>(<span class="regexp">/\.(js|css|woff2|woff|ttf|cur)$/</span>),</span><br><span class="line">  },</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">getSpareUrls</span> = <span class="function">(<span class="params">srcUrl</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">if</span> (srcUrl.<span class="title function_">startsWith</span>(<span class="string">'https://npm.elemecdn.com'</span>)) {</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">      <span class="attr">timeout</span>: <span class="number">3000</span>,</span><br><span class="line">      <span class="attr">list</span>: [</span><br><span class="line">        srcUrl,</span><br><span class="line">        <span class="string">`https://fastly.jsdelivr.net/<span class="subst">${<span class="keyword">new</span> URL(srcUrl).pathname}</span>`</span>,</span><br><span class="line">      ],</span><br><span class="line">    };</span><br><span class="line">  }</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">ejectValues</span> = <span class="function">(<span class="params">hexo, rules</span>) =&gt;</span> {</span><br><span class="line">  <span class="keyword">return</span> {</span><br><span class="line">    <span class="attr">domain</span>: {</span><br><span class="line">      <span class="attr">prefix</span>: <span class="string">'const'</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="keyword">new</span> <span class="title function_">URL</span>(hexo.<span class="property">config</span>.<span class="property">url</span>).<span class="property">host</span>,</span><br><span class="line">    },</span><br><span class="line">  };</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span>.<span class="property">skipRequest</span> = <span class="function">(<span class="params">request</span>) =&gt;</span> request.<span class="property">url</span>.<span class="title function_">startsWith</span>(<span class="string">"https://i0.hdslb.com"</span>) ||</span><br><span class="line">  request.<span class="property">url</span>.<span class="title function_">startsWith</span>(<span class="string">'https://meting.qjqq.cn'</span>) ||</span><br><span class="line">  request.<span class="property">url</span>.<span class="title function_">startsWith</span>(<span class="string">'https://api.i-meto.com'</span>);</span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="5">
<li><strong><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-deployer-git">hexo-deploy-git</a></strong> 提交到git的插件</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-deploy-git --save</span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="6">
<li><strong><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-feed">hexo-generator-feed</a></strong> hexo的rss插件</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-generator-feed --save</span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="7">
<li><strong><a target="_blank" rel="noopener" href="https://github.com/ohroy/hexo-abbrlink">hexo 的短链接</a></strong>: <code>hexo-abbrlink</code></li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-abbrlink --save</span><br></pre></td></tr></tbody></table></figure>
<p>在<code>_config.yml</code>里修改：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink/</span> </span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="attr">permalink:</span> <span class="string">posts/:abbrlink.html</span></span><br></pre></td></tr></tbody></table></figure>
<p>添加:</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># abbrlink config</span></span><br><span class="line"><span class="attr">abbrlink:</span></span><br><span class="line">  <span class="attr">alg:</span> <span class="string">crc32</span>      <span class="comment"># Algorithm used to calc abbrlink. Support crc16(default) and crc32</span></span><br><span class="line">  <span class="attr">rep:</span> <span class="string">hex</span>        <span class="comment"># Representation of abbrlink in URLs. Support dec(default) and hex</span></span><br><span class="line">  <span class="attr">drafts:</span> <span class="literal">false</span>   <span class="comment"># Whether to generate abbrlink for drafts. (false in default)</span></span><br><span class="line">  <span class="attr">force:</span> <span class="literal">false</span>    <span class="comment"># Enable force mode. In this mode, the plugin will ignore the cache, and calc the abbrlink for every post even it already had an abbrlink. (false in default)</span></span><br><span class="line">  <span class="attr">writeback:</span> <span class="literal">true</span> <span class="comment"># Whether to write changes to front-matters back to the actual markdown files. (true in default)</span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="8">
<li><strong><a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo-generator-sitemap">博客的sitemap</a></strong> : <code>hexo-generator-sitemap</code></li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-generator-sitemap --save</span><br></pre></td></tr></tbody></table></figure>
<p>在<code>_config.yml</code>里添加配置：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">sitemap:</span></span><br><span class="line">  <span class="attr">path:</span> </span><br><span class="line">    <span class="bullet">-</span> <span class="string">sitemap.xml</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">sitemap.txt</span></span><br><span class="line">  <span class="attr">template:</span> <span class="string">./sitemap_template.xml</span></span><br><span class="line">  <span class="attr">template_txt:</span> <span class="string">./sitemap_template.txt</span></span><br><span class="line">  <span class="attr">rel:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">tags:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">categories:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="9">
<li><a target="_blank" rel="noopener" href="https://www.mebi.me/hexo-with-algolia"><strong>使用algolia搜索</strong></a> : <code>hexo-algoliasearch</code></li>
</ol>
<ul>
<li>注册algolia：</li>
</ul>
<p>注册地址：<a target="_blank" rel="noopener" href="https://dashboard.algolia.com/users/sign_up">dashboard.algolia.com/users/sign_up</a></p>
<ul>
<li>创建应用：</li>
</ul>
<p>注册成功后创建应用：<a target="_blank" rel="noopener" href="https://dashboard.algolia.com/account/plan/create?from=dashboard">dashboard.algolia.com/account/plan/create?from=dashboard</a></p>
<ul>
<li>search -&gt; configure -&gt; index添加index_name即可</li>
</ul>
<p>在博客执行命令：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-algoliasearch --save</span><br></pre></td></tr></tbody></table></figure>
<p><code>_config.yml</code>里添加</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">algolia:</span></span><br><span class="line">  <span class="attr">appId:</span> <span class="string">"Z7A3XW4R2I"</span></span><br><span class="line">  <span class="attr">apiKey:</span> <span class="string">"12db1ad54372045549ef465881c17e743"</span></span><br><span class="line">  <span class="attr">adminApiKey:</span> <span class="string">"40321c7c207e7f73b63a19aa24c4761b"</span></span><br><span class="line">  <span class="attr">chunkSize:</span> <span class="number">5000</span></span><br><span class="line">  <span class="attr">indexName:</span> <span class="string">"my-hexo-blog"</span></span><br><span class="line">  <span class="attr">fields:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">content:strip:truncate,0,500</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">excerpt:strip</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">gallery</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">permalink</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">photos</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">slug</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">tags</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">title</span></span><br></pre></td></tr></tbody></table></figure>
<div class="note info"><i class="solitude fas fa-circle-exclamation"></i><p><strong>!!!配置完成后记得运行 <code>hexo clean</code></strong></p></div>
<p>在<code>hexo g </code>后实行下列代码：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">hexo algolia</span><br></pre></td></tr></tbody></table></figure>
<hr>
<ol start="10">
<li>**<a target="_blank" rel="noopener" href="https://blog.liushen.fun/posts/1dfd1f41/">hexo-safego</a>**安全跳转插件</li>
</ol>
<p>使用该插件之前，需要先安装 <code>cheerio</code>，<code>cheerio</code> 是一个轻量级的库，用于在服务器端快速、灵活地实现 jQuery 核心功能。在 <code>hexo-safego</code> 插件中，<code>cheerio</code> 被用来解析和操作生成的静态 HTML 内容，类似于在浏览器中使用 jQuery 处理 DOM 元素。这使得插件能够在生成静态页面时，处理和替换外部链接，增强博客的安全性，而不需要在客户端引入 jQuery。Hexo 一般都有这个插件，可以在 <code>node_modules</code> 查看，如果没有，请先执行：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i cheerio --save</span><br></pre></td></tr></tbody></table></figure>
<p>然后即可安装该插件：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-safego --save</span><br></pre></td></tr></tbody></table></figure>
<p>在<code>hexo</code>根目录的<code>_config.yml</code>文件中添加以下配置：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-safego安全跳转插件</span></span><br><span class="line"><span class="comment"># see https://blog.liushen.fun/posts/1dfd1f41/</span></span><br><span class="line"><span class="attr">hexo_safego:</span></span><br><span class="line">  <span class="comment"># 基本功能设置</span></span><br><span class="line">  <span class="attr">general:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span>                <span class="comment"># 启用插件</span></span><br><span class="line">    <span class="attr">enable_base64_encode:</span> <span class="literal">true</span>  <span class="comment"># 使用 Base64 编码</span></span><br><span class="line">    <span class="attr">enable_target_blank:</span> <span class="literal">true</span>   <span class="comment"># 打开新窗口</span></span><br><span class="line">  <span class="comment"># 安全设置</span></span><br><span class="line">  <span class="attr">security:</span></span><br><span class="line">    <span class="attr">url_param_name:</span> <span class="string">'u'</span>         <span class="comment"># URL 参数名</span></span><br><span class="line">    <span class="attr">html_file_name:</span> <span class="string">'go.html'</span>   <span class="comment"># 重定向页面的文件名</span></span><br><span class="line">    <span class="attr">ignore_attrs:</span>               <span class="comment"># 忽略处理的 HTML 属性</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'data-fancybox'</span></span><br><span class="line">  <span class="comment"># 容器与页面设置</span></span><br><span class="line">  <span class="attr">scope:</span></span><br><span class="line">    <span class="attr">apply_containers:</span>           <span class="comment"># 应用的容器选择器</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">'#article-container'</span></span><br><span class="line">    <span class="attr">apply_pages:</span>                <span class="comment"># 应用的页面路径</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/posts/"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"/devices/"</span></span><br><span class="line">    <span class="attr">exclude_pages:</span>              <span class="comment"># 排除的页面路径</span></span><br><span class="line">  <span class="comment"># 域名白名单</span></span><br><span class="line">  <span class="attr">whitelist:</span></span><br><span class="line">    <span class="attr">domain_whitelist:</span>           <span class="comment"># 允许的白名单域名</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"qyliu.top"</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">"liushen.fun"</span></span><br><span class="line">  <span class="comment"># 页面外观设置</span></span><br><span class="line">  <span class="attr">appearance:</span></span><br><span class="line">    <span class="attr">avatar:</span> <span class="string">/info/avatar.ico</span>    <span class="comment"># 头像路径</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">"清羽飞扬"</span>            <span class="comment"># 页面标题</span></span><br><span class="line">    <span class="attr">subtitle:</span> <span class="string">"安全中心"</span>         <span class="comment"># 页面副标题</span></span><br><span class="line">    <span class="attr">darkmode:</span> <span class="literal">true</span>              <span class="comment"># 是否启用深色模式</span></span><br><span class="line">    <span class="attr">countdowntime:</span> <span class="number">-1</span>           <span class="comment"># 倒计时秒数</span></span><br><span class="line">  <span class="comment"># 调试设置</span></span><br><span class="line">  <span class="attr">debug:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">false</span>               <span class="comment"># 启用调试模式</span></span><br></pre></td></tr></tbody></table></figure>
<ol start="11">
<li><strong>hexo的追番页面</strong>：<a target="_blank" rel="noopener" href="https://github.com/HCLonely/hexo-bilibili-bangumi">hexo-bilibili-bangumi</a></li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">pnpm i hexo-bilibili-bangumi --save</span><br></pre></td></tr></tbody></table></figure>
<p>在<code>_config.yml</code>配置：</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">bangumi:</span> <span class="comment"># 追番设置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>           <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">source:</span> <span class="string">bili</span>          <span class="comment"># 数据源</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">bangumis/index.html</span>  <span class="comment"># 页面路径</span></span><br><span class="line">  <span class="attr">vmid:</span>                 <span class="comment"># 用户ID</span></span><br><span class="line">  <span class="attr">title:</span> <span class="string">'追番列表'</span>      <span class="comment"># 页面标题</span></span><br><span class="line">  <span class="attr">quote:</span> <span class="string">'生命不息，追番不止！'</span> <span class="comment"># 页面引言</span></span><br><span class="line">  <span class="attr">show:</span> <span class="number">1</span>              <span class="comment"># 初始显示页面: 0=想看, 1=在看, 2=看过</span></span><br><span class="line">  <span class="attr">lazyload:</span> <span class="literal">true</span>       <span class="comment"># 是否启用图片懒加载</span></span><br><span class="line">  <span class="attr">metaColor:</span>           <span class="comment"># meta 信息字体颜色</span></span><br><span class="line">  <span class="attr">color:</span>               <span class="comment"># 简介字体颜色</span></span><br><span class="line">  <span class="attr">webp:</span> <span class="literal">true</span>          <span class="comment"># 是否使用 webp 格式图片</span></span><br><span class="line">  <span class="attr">progress:</span> <span class="literal">true</span>      <span class="comment"># 是否显示进度条</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line"><span class="attr">cinema:</span> <span class="comment"># 追剧设置</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>           <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">source:</span> <span class="string">bili</span></span><br><span class="line">  <span class="string">...</span></span><br><span class="line"><span class="attr">game:</span> <span class="comment"># 游戏设置，仅支持source: bgmv0</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span>           <span class="comment"># 是否启用</span></span><br><span class="line">  <span class="attr">source:</span> <span class="string">bgmv0</span></span><br><span class="line">  <span class="string">...</span></span><br></pre></td></tr></tbody></table></figure>
<p>还在更新中。。。</p>
<hr>
<h2 id="Github-action配置">Github action配置</h2>
<p>承接<a href="#github-config">段落</a>的继续吧，未来会在<s>出</s>水一期。</p>
<p>接下来就是创建一个私有仓库，根据大佬的文章，是为了保护<strong>Token</strong>，见仁见智。</p>
<p>这个私有仓库的建立是存储Hexo博客代码，如果你要使用<a target="_blank" rel="noopener" href="https://github.com/Qexo/Qexo">Qexo</a></p>
<p>，这也是必不可少的！</p>
<p><img src= "https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp" data-lazy-src="https://img.314926.xyz/images/2025/08/19/hexo-beiwang1.webp" alt=""></p>
<p>创建完成后，需要把博客的源码 push 到这里。首先获取远程仓库地址，此处虽然 SSH 和 HTTPS 均可。SSH 在绑定过 ssh key 的设备上无需再输入密码，HTTPS 则需要输入密码，但是 SSH 偶尔会遇到端口占用的情况。请自主选择。</p>
<p><img src= "https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp" data-lazy-src="https://img.314926.xyz/images/2025/08/19/hexo-beiwang2.webp" alt=""></p>
<div class="note danger modern"><i class="solitude fas fa-wand-magic-sparkles"></i><p>这里之所以是私有仓库，是因为在接下来的配置中会用到 <code>Token</code>，如果 <code>Token</code> 被盗用，别人可以肆意操作你的 github 仓库内容，为了避免这一风险，才选择的博客源码闭源。</p></div>
<h3 id="配置-Github-Action">配置 Github Action</h3>
<ol>
<li>在<code>[Blogroot]</code>新建<code>.github</code>文件夹,注意开头是有个<code>.</code>的。然后在<code>.github</code> 内新建 <code>workflows</code> 文件夹，再在 <code>workflows</code> 文件夹内新建 <code>autodeploy.yml</code>,在<code>[Blogroot]/.github/workflows/autodeploy.yml</code> 里面输入</li>
</ol>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 当有改动推送到 main 分支时，启动 Action</span></span><br><span class="line"><span class="attr">name:</span> <span class="string">自动部署</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">main</span> <span class="comment"># 自选分支</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">release:</span></span><br><span class="line">    <span class="attr">types:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">published</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">deploy:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">检查分支</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">ref:</span> <span class="string">main</span> <span class="comment"># 自选分支</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Node</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v4</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">"22.x"</span> <span class="comment"># node版本</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          export TZ='Asia/Shanghai'</span></span><br><span class="line"><span class="string">          npm install hexo-cli -g</span></span><br><span class="line"><span class="string">          npm install yamljs --save</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">缓存</span> <span class="string">Hexo</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/cache@v4</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">cache</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">path:</span> <span class="string">node_modules</span></span><br><span class="line">          <span class="attr">key:</span> <span class="string">${{</span> <span class="string">runner.os</span> <span class="string">}}-node-${{</span> <span class="string">hashFiles('**/package-lock.json')</span> <span class="string">}}</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">安装依赖</span></span><br><span class="line">        <span class="attr">if:</span> <span class="string">steps.cache.outputs.cache-hit</span> <span class="type">!=</span> <span class="string">'true'</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install --save</span></span><br><span class="line"><span class="string">          npm install hexo-algoliasearch --save</span></span><br><span class="line"><span class="string">          npm install hexo-bilibili-bangumi --save</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">生成静态文件</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          node ./link.js</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string">          hexo bangumi -u</span></span><br><span class="line"><span class="string">          hexo algolia</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">部署</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          cd ./public</span></span><br><span class="line"><span class="string">          git init -b main</span></span><br><span class="line"><span class="string">          git config --global user.name '${{ secrets.GITHUBUSERNAME }}'</span></span><br><span class="line"><span class="string">          git config --global user.email '${{ secrets.GITHUBEMAIL }}'</span></span><br><span class="line"><span class="string">          git add .</span></span><br><span class="line"><span class="string">          git commit -m "${{ github.event.head_commit.message }} $(date +"%Z %Y-%m-%d %A %H:%M:%S") Updated by GitHub Actions"</span></span><br><span class="line"><span class="string">          git push --force --quiet "https://${{ secrets.GITHUBUSERNAME }}:${{ secrets.GITHUBTOKEN }}@github.com/${{ secrets.GITHUBUSERNAME }}/${{ secrets.GITHUBUSERNAME }}.github.io.git" main</span></span><br></pre></td></tr></tbody></table></figure>
<p>上述代码是来自<a target="_blank" rel="noopener" href="https://akilar.top/posts/f752c86d/">店长</a>的修改自用，为什么不用<a target="_blank" rel="noopener" href="https://blog.anheyu.com/posts/asdx.html">安知鱼</a>的？</p>
<ol>
<li>
<p>首先把Token直接放在仓库的文件里还是不太好。</p>
</li>
<li>
<p>像我这种在本地搞的，推不到仓库里，因为这里的token不能直接上传，我尝试过把<code>token: </code>改成<code>token: ${{ servets.GH_token }}</code>，但是依旧有各种问题，相反使用了店长的代码后，就大差不差，询问AI后就得到目前的代码，也就可以正式上传了。（无拉踩的意思）</p>
</li>
<li>
<p>之后需要自己到仓库的 Settings-&gt;Secrets-&gt;actions 下添加环境变量，变量名参考脚本中出现的，依次添加。</p>
</li>
</ol>
<p><img src= "https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp" data-lazy-src="https://img.314926.xyz/images/2025/08/19/hexo-beiwang3.webp" alt=""></p>
<h3 id="重新设置远程仓库和分支">重新设置远程仓库和分支</h3>
<div class="tabs" id="🍼第一次使用git管理博客源码"><ul class="nav-tabs"><li class="tab active"><button type="button" data-href="#🍼第一次使用git管理博客源码-0">🍼第一次使用git管理博客源码 0</button></li><li class="tab"><button type="button" data-href="#🍼第一次使用git管理博客源码-1">🍼第一次使用git管理博客源码 1</button></li></ul><div class="tab-contents"><div class="tab-item-content active" id="🍼第一次使用git管理博客源码-0"><ol>
<li>删除或者先把<code>[Blogroot]/themes/solitude/.git</code>移动到非博客文件夹目录下,原因是主题文件夹下的<code>.git</code>文件夹的存在会导致其被识别成子项目，从而无法被上传到源码仓库。</li>
<li>在博客根目录<code>[Blogroot]</code>路径下运行指令:</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git init <span class="comment">#初始化</span></span><br><span class="line">git remote add origin git@github.com:[GithubUsername]/[SourceRepo].git <span class="comment">#[SourceRepo]为存放源码的github私有仓库</span></span><br><span class="line">git checkout -b master <span class="comment"># 切换到master分支，</span></span><br><span class="line"><span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line"><span class="comment"># 如果不是，后面的所有设置的分支记得保持一致</span></span><br></pre></td></tr></tbody></table></figure>
<ol start="3">
<li>添加屏蔽项</li>
</ol>
<p>因为能够使用指令进行安装的内容不包括在需要提交的源码内，所有我们需要将这些内容添加到屏蔽项，表示不上传到 github 上。这样可以显著减少需要提交的文件量和加快提交速度。打开<code>[Blogroot]/.gitignore</code>,输入以下内容：</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.<span class="built_in">log</span></span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">.deploy_git*/</span><br><span class="line">.idea</span><br><span class="line">themes/solitude/.git</span><br></pre></td></tr></tbody></table></figure>
<p>如果不是<code>solitude</code>主题，记得替换最后一行内容为你自己当前使用的主题。<br>
4. 之后再运行 git 提交指令，将博客源码提交到 github 上。</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"github action update"</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br></pre></td></tr></tbody></table></figure>
<ol start="5">
<li>此时你的主题文件夹若已经被正常上传，并且你也添加了主题文件夹下的.git 文件夹的屏蔽项。那你可以考虑把第二步移走或删除的<code>.git</code>放回来，用作以后升级。（不禁怀疑真的有人会去用这个方式来升级吗）</li>
</ol></div><div class="tab-item-content" id="🍼第一次使用git管理博客源码-1"><ol>
<li>添加屏蔽项</li>
</ol>
<p>因为能够使用指令进行安装的内容不包括在需要提交的源码内，所有我们需要将这些内容添加到屏蔽项，表示不上传到 github 上。这样可以显著减少需要提交的文件量和加快提交速度。<br>
打开<code>[Blogroot]/.gitignore</code>,输入以下内容：</p>
<figure class="highlight txt"><table><tbody><tr><td class="code"><pre><span class="line">.DS_Store</span><br><span class="line">Thumbs.db</span><br><span class="line">db.json</span><br><span class="line">*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/</span><br><span class="line">.deploy_git*/</span><br><span class="line">.idea</span><br><span class="line">themes/solitude/.git</span><br></pre></td></tr></tbody></table></figure>
<p>如果不是 <code>solitude</code> 主题，记得替换最后一行内容为你自己当前使用的主题。</p>
<ol start="2">
<li>提交源码到私有仓库<code>[SourceRepo]</code><br>
在博客根目录<code>[Blogroot]</code>下启动终端，使用 git 指令重设仓库地址。这样在新建仓库，我们仍旧可以保留珍贵的 commit history，便于版本回滚。</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">git remote <span class="built_in">rm</span> origin <span class="comment"># 删除原有仓库链接</span></span><br><span class="line">git remote add origin git@github.com:[GithubUsername]/[SourceRepo].git <span class="comment">#[SourceRepo]为新的存放源码的github私有仓库</span></span><br><span class="line">git checkout -b master <span class="comment"># 切换到master分支，</span></span><br><span class="line"><span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br><span class="line"><span class="comment"># 如果不是，后面的所有设置的分支记得保持一致</span></span><br><span class="line">git add .</span><br><span class="line">git commit -m <span class="string">"github action update"</span></span><br><span class="line">git push origin master</span><br><span class="line"><span class="comment">#2020年10月后github新建仓库默认分支改为main，注意更改</span></span><br></pre></td></tr></tbody></table></figure>
<ol start="3">
<li>可能遇到的 bug</li>
</ol>
<p>因为 solitude 主题文件夹下的.git 文件夹的存在，那么主题文件夹会被识别子项目。从而无法被上传到源码仓库。若是遇到添加屏蔽项，但是还是无法正常上传主题文件夹的情况。请先将本地源码中的 themes 文件夹移动到别的目录下。然后 commit 一次。接着将 themes 文件夹移动回来，再 commit 一次。</p>
<div class="note danger modern"><i class="solitude fas fa-wand-magic-sparkles"></i><p>要是还不行，那就删了 solitude 主题文件夹下的.git 文件夹，然后再重复上述的 commit 操作。</p></div></div></div></div>
<h1>挖坑</h1>
<p>大致写到这，未来或许会有<s>下一章</s>挖坑？但是目前通用的就到这，然后后续会写Qexo的简单使用方法、solitude的一些配置更改和我踩坑经历吧。</p>
</article><div class="post-copyright"><div class="post-copyright__author_group"><div class="post-copyright__author_img"><img class="post-copyright__author_img_front" src="https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.web"></div><div class="post-copyright__author_name">克喵爱吃卤面</div><div class="post-copyright__author_desc">Hexo 使用过程中的一些备忘事项和技巧</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div><div class="post-reward"><div class="reward-button" title="赞赏作者" onclick="AddRewardMask()"><i class="astrabay fas fa-heart"></i>赞赏作者</div><div class="reward-main"><ul class="reward-all"><span class="reward-title">感谢您的赞赏</span><ul class="reward-group"><li class="reward-item"><a target="_blank" rel="noopener" href="https://afdian.com/a/kemiaofx_me"><img class="post-qr-code-img nolazyload" src="https://img.314926.xyz/images/2025/08/15/aifadian.webp" alt="爱发电" style="border-color: var(--efu-black)"></a><div class="post-qr-code-desc">爱发电</div></li></ul><a class="reward-main-btn" href="/about/"><div class="reward-text">赞赏名单</div><div class="reward-dec">由于您的支持，我才能够实现写作的价值</div></a></ul></div></div><script>function RemoveRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    rewardMainElements.forEach(element => {
        element.style.display = "none";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "none";
    }
}

function AddRewardMask() {
    let rewardMainElements = document.querySelectorAll(".reward-main");
    let quitBoxElement = document.querySelector("#quit-box");

    rewardMainElements.forEach(element => {
        element.style.display = "flex";
    });

    if (quitBoxElement) {
        quitBoxElement.style.display = "flex";
    }
}</script><div class="reward-link mode"><a class="reward-link-button" href="/atom.xml"><i class="astrabay fas fa-seedling"></i>订阅</a></div></div></div><div class="social-share"><a class="social-share-ico icon-qq" target="_blank" rel="noopener" href="https://connect.qq.com/widget/shareqq/index.html?url=https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html&amp;title=hexo%E5%A4%87%E5%BF%98&amp;desc=undefined&amp;summary=undefined&amp;site=hexo%E5%A4%87%E5%BF%98&amp;pics=https%3A%2F%2Fimg.314926.xyz%2Fimages%2F2025%2F08%2F20%2Fhexo-beiwang-topic.webp" title="分享到QQ"><i class="astrabay fab fa-qq"></i></a><a class="social-share-ico icon-weibo" target="_blank" rel="noopener" href="http://service.weibo.com/share/share.php?url=https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html&amp;title=hexo%E5%A4%87%E5%BF%98&amp;pic=https%3A%2F%2Fimg.314926.xyz%2Fimages%2F2025%2F08%2F20%2Fhexo-beiwang-topic.webp" title="分享到微博"><i class="astrabay fab fa-weibo"></i></a><a class="social-share-ico icon-twitter" target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html&amp;text=hexo%E5%A4%87%E5%BF%98" title="分享到Twitter"><i class="astrabay fab fa-twitter"></i></a><a class="social-share-ico icon-facebook" target="_blank" rel="noopener" href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html" title="分享到Facebook"><i class="astrabay fab fa-facebook"></i></a><a class="social-share-ico icon-telegram" target="_blank" rel="noopener" href="https://t.me/share/url?url=https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html&amp;text=hexo%E5%A4%87%E5%BF%98" title="分享到Telegram"><i class="astrabay fab fa-telegram"></i></a><a class="social-share-ico icon-whatsapp" target="_blank" rel="noopener" href="https://api.whatsapp.com/send?text=hexo%E5%A4%87%E5%BF%98 https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html" title="分享到WhatsApp"><i class="astrabay fab fa-whatsapp"></i></a><a class="social-share-ico icon-linkedin" target="_blank" rel="noopener" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Fmyboke.kemiaosw.top%2Fposts%2Fb405d89f.html&amp;title=hexo%E5%A4%87%E5%BF%98&amp;summary=undefined&amp;source=hexo%E5%A4%87%E5%BF%98" title="分享到LinkedIn"><i class="astrabay fab fa-linkedin"></i></a><div class="social-share-ico icon-link" onclick="utils.copy(&quot;https://myboke.kemiaosw.top/posts/b405d89f.html&quot;)" title="复制文章链接"><i class="astrabay fas fa-link"></i></div><div class="social-share-ico icon-qrcode" title="使用手机扫码阅读这篇文章"><i class="astrabay fas fa-qrcode"></i><div class="share-main"><div class="share-main-all"><div id="qrcode"></div><div class="reward-dec">使用手机扫码阅读这篇文章</div></div></div><script pjax="">typeof QRCode === 'function' && new QRCode(document.getElementById("qrcode"), {
    text: 'https://myboke.kemiaosw.top/posts/b405d89f.html',
    correctLevel : QRCode.CorrectLevel.L
});
window.addEventListener('DOMContentLoaded', () => {
    new QRCode(document.getElementById("qrcode"), {
        text: 'https://myboke.kemiaosw.top/posts/b405d89f.html',
        correctLevel : QRCode.CorrectLevel.L
    });
});
</script></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本文是原创文章，采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans">CC BY-NC-SA 4.0</a>协议，完整转载请注明来自<a href="/">喵洛阁</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%A4%87%E5%BF%98/"><span class="tags-punctuation"><i class="astrabay fas fa-hashtag"></i>备忘<span class="tagsPageCount">1</span></span></a><a class="post-meta__tags" href="/tags/%E9%85%8D%E7%BD%AE/"><span class="tags-punctuation"><i class="astrabay fas fa-hashtag"></i>配置<span class="tagsPageCount">1</span></span></a><a class="post-meta__tags" href="/tags/Hexo/"><span class="tags-punctuation"><i class="astrabay fas fa-hashtag"></i>Hexo<span class="tagsPageCount">1</span></span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/a56bd99b.html"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">github-issues-moment</div></div></a></div><div class="next-post pull-right"><a href="/posts/db29.html"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Markdown 强调语法</div></div></a></div></nav><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="astrabay fas fa-comment"></i><span> 评论</span><span class="count"> (<span class="twikoo-count"><i class="astrabay fas fa-spinner fa-spin"></i></span><span class="giscus-count"></span>)</span></div><div class="comment-switch"><span class="first">Twikoo</span><span id="switch-btn"></span><span class="second">Giscus</span></div></div><div class="comment-wrap"><div id="twikoo-wrap"></div><div id="giscus-wrap"></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="top-group"><div class="sayhi" id="sayhi" onclick="sco.changeWittyWord()"></div></div></div><div class="avatar"><img alt="头像" src="https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp"><div class="sticker"><img class="sticker-img" src="https://img.314926.xyz/images/2025/08/15/zhi.webp" alt="心情贴纸"></div></div><div class="description">欢迎来到克喵的博客！<br>如果网站有什么问题，优先CTRL+F5刷新一下。</div><div class="bottom-group"><span class="left"><div class="name">克喵爱吃卤面</div><div class="desc">愿你看清一切真相后。依旧热爱你的家人和朋友。</div></span><div class="social-icons is-center"><a class="social-icon" target="_blank" rel="noopener" href="https://github.com/kemiaofxjun" title="Github"><i class="astrabay  fab fa-github"></i></a><a class="social-icon" href="mailto:me@mail.kemeow.top" title="Email"><i class="astrabay  fas fa-envelope"></i></a></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="astrabay fas fa-bars"></i><span>文章目录</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">Hexo 备忘</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%88%91%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-text">我的配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Node-js"><span class="toc-text">安装 Node.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Git"><span class="toc-text">安装 Git</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Git-%E7%94%A8%E6%88%B7%E5%90%8D%E5%92%8C%E9%82%AE%E7%AE%B1"><span class="toc-text">配置 Git 用户名和邮箱</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8"><span class="toc-text">安装 包管理器</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-pnpm"><span class="toc-text">安装 pnpm</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85-Hexo"><span class="toc-text">安装 Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#a-id-github-config-a-Github%E9%85%8D%E7%BD%AE"><span class="toc-text">Github配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93"><span class="toc-text">创建仓库</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8A%E8%BF%B0%E6%98%AF%E5%89%8D%E7%BD%AE%E6%9D%A1%E4%BB%B6%EF%BC%8C%E6%8E%A5%E4%B8%8B%E6%9D%A5%E8%A6%81%E5%85%88%E9%83%A8%E7%BD%B2-hexo%EF%BC%8C%E4%BD%A0%E6%89%8D%E5%A5%BD%E7%BB%A7%E7%BB%AD%E4%B8%8B%E4%B8%80%E6%AD%A5%E3%80%82"><span class="toc-text">上述是前置条件，接下来要先部署 hexo，你才好继续下一步。</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96-Hexo"><span class="toc-text">初始化 Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE"><span class="toc-text">配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6"><span class="toc-text">插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Github-action%E9%85%8D%E7%BD%AE"><span class="toc-text">Github action配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE-Github-Action"><span class="toc-text">配置 Github Action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E6%96%B0%E8%AE%BE%E7%BD%AE%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E5%92%8C%E5%88%86%E6%94%AF"><span class="toc-text">重新设置远程仓库和分支</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-text">挖坑</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="astrabay fas fa-map"></i><span>最近发布</span></div><div class="aside-list"><a class="aside-list-item" href="/posts/a56bd99b.html" title="github-issues-moment"><div class="thumbnail"><img alt="github-issues-moment" src="https://img.314926.xyz/images/2025/09/24/github-issues.webp"></div><div class="content"><span class="title" href="/posts/a56bd99b.html" title="github-issues-moment">github-issues-moment</span><span class="categories" href="/posts/a56bd99b.html">技术分享</span></div></a><a class="aside-list-item" href="/posts/b405d89f.html" title="hexo备忘"><div class="thumbnail"><img alt="hexo备忘" src="https://img.314926.xyz/images/2025/08/20/hexo-beiwang-topic.webp"></div><div class="content"><span class="title" href="/posts/b405d89f.html" title="hexo备忘">hexo备忘</span><span class="categories" href="/posts/b405d89f.html">技术分享</span></div></a><a class="aside-list-item" href="/posts/db29.html" title="Markdown 强调语法"><div class="thumbnail"><img alt="Markdown 强调语法" src="https://img.314926.xyz/images/2025/09/24/qiangdiao.webp"></div><div class="content"><span class="title" href="/posts/db29.html" title="Markdown 强调语法">Markdown 强调语法</span><span class="categories" href="/posts/db29.html">技术分享</span></div></a><a class="aside-list-item" href="/posts/9c69.html" title="Markdown 换行语法"><div class="thumbnail"><img alt="Markdown 换行语法" src="https://photo-kemiao.oss-cn-hangzhou.aliyuncs.com/img/markdown-huanhang.webp-ys"></div><div class="content"><span class="title" href="/posts/9c69.html" title="Markdown 换行语法">Markdown 换行语法</span><span class="categories" href="/posts/9c69.html">技术分享</span></div></a><a class="aside-list-item" href="/posts/9dd5.html" title="资源分享：涂鹿Toolooz"><div class="thumbnail"><img alt="资源分享：涂鹿Toolooz" src="https://cdn.jsdelivr.net/gh/kmfx/tuchuang@main/img/202505191709690.png"></div><div class="content"><span class="title" href="/posts/9dd5.html" title="资源分享：涂鹿Toolooz">资源分享：涂鹿Toolooz</span><span class="categories" href="/posts/9dd5.html">资源分享</span></div></a></div></div></div></div></main><footer id="footer"><div id="st-footer-bar"><div class="footer-logo"><span>喵落阁</span></div><div class="footer-bar-description">文章来自 克喵爱吃卤面</div><div><a class="footer-bar-link" href="/about/" title="了解更多">了解更多</a></div></div><div id="footer_deal"><a class="deal_link" target="_blank" rel="noopener" href="https://github.com/kemiaofxjun" title="Github"><i class="astrabay  fab fa-github"></i></a><a class="deal_link" href="mailto:me@mail.kemeow.top" title="Mail"><i class="astrabay  far fa-envelope"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://t.me/kemiaosw" title="Telegram"><i class="astrabay  fab fa-telegram"></i></a><div class="nolazyload footer_mini_logo" id="footer_mini_logo" title="返回顶部" onclick="sco.toTop()"><img alt="返回顶部"></div><a class="deal_link" target="_blank" rel="noopener" href="https://space.bilibili.com/3546643173477234" title="Bilibili"><i class="astrabay  fab fa-bilibili"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://qm.qq.com/q/pgVDq6hcvQ" title="QQ"><i class="astrabay  fab fa-qq"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://x.com/kemiaosw" title="X"><i class="astrabay  fab fa-twitter"></i></a><a class="deal_link" target="_blank" rel="noopener" href="https://music.163.com/#/user/home?id=1725716511" title="netease"><i class="astrabay  fab fa-spotify"></i></a></div><div><div id="st-footer"><div class="footer-group"><h3 class="footer-title">导航</h3><div class="footer-links"><a class="footer-item" href="/archives/" title="归档">归档</a><a class="footer-item" href="/categories/" title="分类">分类</a><a class="footer-item" href="/tags/" title="标签">标签</a></div></div><div class="footer-group"><div class="footer-title-group"><h3 class="footer-title">友链</h3><button class="random-friends-btn" onclick="randomLinksList()" title="友链"><i class="astrabay fas fa-arrows-rotate"></i></button></div><div class="footer-links" id="friend-links-in-footer"></div></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">© 2025 By<a class="footer-bar-link" href="/" title="克喵爱吃卤面">克喵爱吃卤面</a></div><div class="beian-group"><div><a class="footer-bar-link" target="_blank" rel="noopener" href="https://icp.gov.moe/?keyword=20250530" title="萌ICP备20250530号"><div><img class="beian-icon" src= "https://img.314926.xyz/images/2025/08/13/no-background-kemiaofxjun.webp" data-lazy-src="https://img.314926.xyz/images/2025/08/15/mengicp.webp" alt="萌ICP备20250530号"></div><span class="beian-name">萌ICP备20250530号</span></a></div><a class="footer-bar-link" target="_blank" rel="noopener" href="https://hexo.io/" title="框架：Hexo">框架：Hexo</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/Stars-harbor/astrabay" title="主题：Astrabay">主题：Astrabay</a></div></div><div><div class="footer-bar-right"><a class="footer-bar-link" href="/atom.xml" title="">RSS</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude/blob/main/LICENSE" title=""><i class="astrabay fas fa-copyright"></i><i class="astrabay fab fa-creative-commons-by"></i><i class="astrabay fab fa-creative-commons-nc"></i><i class="astrabay fab fa-creative-commons-nd"></i></a></div></div></div></div><div><div class="comment-barrage needEndHide"></div></div></footer></div><div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="astrabay fas fa-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="astrabay fas fa-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="astrabay fas fa-arrows-rotate"></i></div><div class="rightMenu-item" id="menu-top"><i class="astrabay fas fa-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="astrabay fas fa-clone"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="astrabay fas fa-clipboard"></i><span>粘贴文本</span></div><div class="rightMenu-item" id="menu-commenttext"><i class="astrabay fas fa-comment-medical"></i><span>引用到评论</span></div><div class="rightMenu-item" id="menu-newwindow"><i class="astrabay far fa-window-maximize"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="astrabay fas fa-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="astrabay fas fa-clone"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="astrabay fas fa-cloud-arrow-down"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-search"><i class="astrabay fas fa-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="astrabay fas fa-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="astrabay fas fa-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="astrabay fas fa-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="astrabay fas fa-clone"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-randomPost" onclick="toRandomPost()||rm.hideRightMenu()"><i class="astrabay fas fa-tower-broadcast"></i><span>随机文章</span></div><div class="rightMenu-item" onclick="pjax.loadUrl('/categories/')||rm.hideRightMenu()"><i class="astrabay fas fa-clone"></i><span>全部分类</span></div><div class="rightMenu-item" onclick="pjax.loadUrl('/tags/')||rm.hideRightMenu()"><i class="astrabay fas fa-tags"></i><span>全部标签</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><div class="rightMenu-item" id="menu-commentBarrage" onclick="sco.switchCommentBarrage()"><i class="astrabay fas fa-comment"></i><span class="menu-commentBarrage-text">关闭热评</span></div><div class="rightMenu-item" id="menu-darkmode" onclick="sco.switchDarkMode()"><i class="astrabay fas fa-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></div></div></div><div id="rightmenu-mask"></div></div><div><!-- Critical scripts loaded synchronously--><script src="/js/utils.js?v=1.4.2"></script><script src="/js/main.js?v=1.4.2"></script><!-- Non-critical scripts loaded asynchronously--><script async="" src="/js/third_party/waterfall.min.js?v=1.4.2"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><!-- Feature-specific scripts loaded asynchronously--><script async="" src="https://cdn.jsdelivr.net/npm/qrcodejs@1.0.0/qrcode.min.js"></script><script defer="" src="https://cdn.jsdelivr.net/npm/mermaid@11.4.1/dist/mermaid.min.js"></script><script defer="" src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script><script defer="" src="/js/third_party/universe.min.js?v=1.4.2"></script><script>document.addEventListener('DOMContentLoaded', () => {
  if (typeof dark === 'function') dark();
});
</script><script defer="" src="/js/tw_cn.js?v=1.4.2"></script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/copy-tex.min.js"><script>(() => {
  document.querySelectorAll('.article-container span.katex-display').forEach(item => {
    utils.wrap(item, 'div', {class: 'katex-wrap'})
  })
})();
</script><!-- UI enhancement scripts--><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload@19.1.3/dist/lazyload.iife.min.js"></script><script defer="" src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/swiper@11.0.5/swiper-bundle.min.js"></script><!-- Music player scripts--><script>var meting_api = 'https://meting.051531.xyz/?server=:server&type=:type&id=:id&auth=:auth&r=:r';</script><script defer="" src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js"></script><script defer="" src="https://cdn.jsdelivr.net/npm/meting@2.0.1/dist/Meting.min.js"></script><!-- Cover color processing scripts--><script defer="" src="https://cdn.jsdelivr.net/npm/colorthief@2.6.0/dist/color-thief.min.js"></script><script defer="" src="/js/covercolor/local.js?v=1.4.2"></script><script>window.paceOptions = {
  restartOnPushState: false
}

utils.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')
</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- Search functionality--><script defer="" src="https://cdn.jsdelivr.net/npm/instantsearch.js@4.75.7/dist/instantsearch.production.min.js"></script><script defer="" src="https://cdn.jsdelivr.net/npm/algoliasearch@5.19.0/dist/algoliasearch.umd.min.js"></script><!-- Right menu functionality--><script defer="" src="/js/right_menu.js?v=1.4.2"></script><script src="https://static.314926.xyz/js/lunnar/chinese-lunar.js"></script><script src="/qexo-links/friends.js"></script><script src="/js/custom.js"></script><script defer="" pjax="" src="/js/welcome.js"></script><script src="/qexo-talk/talk.js"></script><script src="/schedule/schedule.js"></script><script defer="" pjax="" data-api="https://busuanzi.050815.xyz/api" data-prefix="busuanzi_value" src="https://busuanzi.050815.xyz/js"></script><script> const sakanaWidget = document.createElement("div"); sakanaWidget.id = "sakana-widget"; sakanaWidget.style.position = "fixed"; sakanaWidget.style.bottom = "12px"; sakanaWidget.style.right = "0"; sakanaWidget.style.zIndex = "999"; document.body.appendChild(sakanaWidget); function initSakanaWidget() { new SakanaWidget().mount('#sakana-widget');} </script><script async="" onload="initSakanaWidget()" src="https://cdn.jsdelivr.net/npm/sakana-widget@2.7.0/lib/sakana.min.js"></script><div class="js-pjax"><script>(() => {
    const getCount = () => {
        const ele = document.querySelectorAll('.twikoo-count')
        if (!ele) return
        twikoo.getCommentsCount({
            envId: 'https://kemiao-twikoo.050815.xyz',
            region: '',
            urls: [window.location.pathname],
            includeReply: false
        }).then(res => {
            ele.forEach(item => item.textContent = res[0].count)
        }).catch(err => {
            console.error(err)
        })
    }
    const init = () => {
        twikoo.init(Object.assign({
            el: '#twikoo-wrap',
            envId: 'https://kemiao-twikoo.050815.xyz',
            region: '',
            path: window.location.pathname,
            onCommentLoaded: () => {
                GLOBAL_CONFIG.lightbox && utils.lightbox(document.querySelectorAll('#twikoo .tk-content img:not(.tk-owo-emotion)'))
            }
        }, null))

         && getCount()
        sco.owoBig({
            body: '.OwO-body',
            item: '.OwO-items li'
        })

        true && barrageTwikoo()
    }

    const loadTwikoo = () => {
        if (typeof twikoo === 'object') setTimeout(init,0)
        else utils.getScript('https://cdn.jsdelivr.net/npm/twikoo@1.6.41/dist/twikoo.all.min.js').then(init)
    }

    if ('Twikoo' === 'Twikoo' || true) {
        if (true) utils.loadComment(document.getElementById('twikoo-wrap'), loadTwikoo)
        else loadTwikoo()
    } else {
        window.loadTwoComment = loadTwikoo
    }
})()
</script><script>async function barrageTwikoo() {
    await fetch("https://kemiao-twikoo.050815.xyz", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            event: "COMMENT_GET",
            accessToken: "",
            url: window.location.pathname
        })
    }).then(async res => {
        if (!res.ok) throw new Error("HTTP error! status: " + res.status)
        const data = await res.json();
        const init = () => {
            initializeCommentBarrage((data.data).map(item => Object.assign({
                content: item.comment,
                nick: item.nick,
                mailMd5: item.mailMd5,
                id: item.id
            })))
        }
        if (typeof initializeCommentBarrage === "undefined") await utils.getScript('/js/third_party/barrage.min.js?v=1.4.2').then(init)
        else init()
    }).catch(error => console.error("An error occurred while fetching comments: ", error))
}</script><script>(()=>{
    const getGiscusTheme = theme => {
        return theme === 'dark' ? 'dark' : 'light'
    }

    const loadGiscus = () => {
        const config = Object.assign({
            src: 'https://giscus.app/client.js',
            'data-repo': 'kemiaofxjun/giscus-comments',
            'data-repo-id': 'R_kgDOPbFKpQ',
            'data-category-id': 'DIC_kwDOPbFKpc4Ct-dq',
            'data-mapping': 'pathname',
            'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
            'data-reactions-enabled': '1',
            crossorigin: 'anonymous',
            async: true
        },null)

        const ele = document.createElement('script')
        for (let key in config) {
            ele.setAttribute(key, config[key])
        }
        document.getElementById('giscus-wrap').appendChild(ele)
    }

    const changeGiscusTheme = theme => {
        const sendMessage = message => {
            const iframe = document.querySelector('iframe.giscus-frame')
            if (!iframe) return
            iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app')
        }

        sendMessage({
            setConfig: {
                theme: getGiscusTheme(theme)
            }
        });
    }

    utils.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

    if ('Twikoo' === 'Giscus' || !true) {
        if (true) {
            const giscusWrap = document.getElementById('giscus-wrap')
            if (giscusWrap) {
                utils.loadComment(giscusWrap, loadGiscus)
            }
        } else {
            loadGiscus()
        }
    } else {
        window.loadTwoComment = loadGiscus
    }
})()</script><script>mermaid.run();
</script><script defer="" pjax="" src="https://busuanzi.050815.xyz/js"></script></div></div><script>const links = [{"name":"❖星港◎Star☆","link":"https://blog.starsharbor.com"},{"name":"纸鹿摸鱼处","link":"https://blog.zhilu.site/"},{"name":"wallleap","link":"https://myblog.wallleap.cn/"},{"name":"张洪Heo","link":"https://blog.zhheo.com/"},{"name":"CWorld Site","link":"https://cworld0.com/"},{"name":"东方月初","link":"https://blog.biuxin.com/"},{"name":"梦爱吃鱼","link":"https://blog.bsgun.cn/"},{"name":"APP喵","link":"https://www.appmiu.com/"},{"name":"面条实验室","link":"https://memo.miantiao.me"},{"name":"DIYGOD","link":"https://diygod.me/"},{"name":"Akilarの糖果屋","link":"https://akilar.top/"},{"name":"清羽飞扬","link":"https://blog.liushen.fun/"},{"name":"青桔气球","link":"https://blog.qjqq.cn/"},{"name":"安知鱼","link":"https://blog.anheyu.com/"},{"name":"Cynosura","link":"https://cynosura.one"},{"name":"ATao-Blog","link":"https://blog.atao.cyou"}]
const randomText = '点击前往按钮进入随机一个友链，不保证跳转网站的安全性和可用性。本次随机到的是本站友链：⌈ ${name} ⌋'
function travelling() {
    const link = links[utils.randomNum(links.length)];
    Snackbar.show({
        text: randomText.replace(/\$\{name}/,link.name),
        duration: 8000,
        pos: 'top-center',
        actionText: '前往',
        onActionClick: function(element) {
            element.style.opacity = 0;
            window.open(link.link, '_blank');
        }
    });
}
</script><script>function randomLinksList() {
    const linkcard = document.getElementById('friend-links-in-footer');
    if (linkcard == null) return;

    let data = '';
    let linksCopy = [...links];
    let count = Math.min(3, linksCopy.length);

    for (let i = 0; i < count; i++) {
        let index = utils.randomNum(linksCopy.length);
        const {link, name} = linksCopy[index];
        data += `<a class="footer-item" href="${link}" target="_blank" rel="noopener noreferrer nofollow">${name}</a>`;
        linksCopy.splice(index, 1);
    }

    linkcard.innerHTML = data + '<a class="footer-item" href="/links/">更多</a>';
}</script><!-- pjax--><script>let pjax = null;

function initPjax() {
    if (typeof Pjax === 'undefined') {
        console.warn('Pjax is not loaded yet, retrying...');
        setTimeout(initPjax, 100);
        return;
    }

    pjax = new Pjax({
        elements: 'a:not([target="_blank"])',
        selectors: ["title","#body-wrap","#site-config","meta[name=\"description\"]",".js-pjax","meta[property^=\"og:\"]","#config-diff",".rs_show",".rs_hide"],
        cacheBust: false,
        analytics: false,
        scrollRestoration: false
    })

    // 将 pjax 实例挂载到全局
    window.pjax = pjax;

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    document.addEventListener('pjax:complete', () => {
        window.refreshFn()

        document.querySelectorAll('script[data-pjax]').forEach(item => {
            const newScript = document.createElement('script')
            const content = item.text || item.textContent || item.innerHTML || ""
            Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
            newScript.appendChild(document.createTextNode(content))
            item.parentNode.replaceChild(newScript, item)
        })

        GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

    })

    document.addEventListener('pjax:error', (e) => {
        if (e.request.status === 404) {
            pjax.loadUrl('/404.html')
        }
    })
}

// 初始化 Pjax
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPjax);
} else {
    initPjax();
}</script><!-- google adsense--><div id="algolia-search"><div class="search-dialog"><div class="algolia-navbar"><div class="search-dialog__title" id="algolia-search-title">搜索</div><div class="algolia-tips"><i class="astrabay fab fa-algolia"></i><span class="algolia-tips-text">Algolia</span></div><span class="search-close-button"><i class="astrabay fas fa-xmark"></i></span></div><div id="algolia-input-panel"><div id="algolia-search-input"></div></div><div id="search-results"><div id="algolia-hits"></div></div><div id="algolia-tips"><div id="algolia-pagination"></div><div id="algolia-stats"></div></div></div><div id="search-mask"></div></div><script src="/js/search/algolia.js?v=1.4.2"></script><div><div class="capsuleHide" id="nav-music"><div id="nav-music-hoverTips"><i class="music-control-btn fas fa-backward-step" id="music-prev" onclick="sco.musicSkipBack()"></i><i class="music-control-btn fas fa-pause" id="music-pause" onclick="sco.musicToggle()"></i><i class="music-control-btn fas fa-play" id="music-play" onclick="sco.musicToggle()"></i><i class="music-control-btn fas fa-forward-step" id="music-next" onclick="sco.musicSkipForward()"></i></div><meting-js id="13681647281" server="netease" type="playlist" mutex="true" preload="none" theme="var(--efu-main)" data-lrctype="0" order="random" volume="0.8"></meting-js></div></div></body></html>
        <script>
            const posts = ["posts/b405d89f.html","posts/de9e.html","posts/7eae.html","posts/d5cb.html","posts/5a29.html","posts/db29.html","posts/9c69.html","posts/4c9f.html","posts/7eae.html","posts/9dd5.html","posts/838c.html","posts/a56bd99b.html","posts/fedf.html","posts/6a61.html"];
            function toRandomPost() {
                const randomPost = posts[Math.floor(Math.random() * posts.length)];
                pjax.loadUrl(GLOBAL_CONFIG.root + randomPost);
            }
        </script>